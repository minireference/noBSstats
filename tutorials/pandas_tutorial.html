
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Appendix D — Pandas tutorial &#8212; No BS Stats Notebooks</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tutorials/pandas_tutorial';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Appendix E — Seaborn tutorial" href="seaborn_tutorial.html" />
    <link rel="prev" title="Appendix C — Python tutorial" href="python_tutorial.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="No BS Stats Notebooks - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="No BS Stats Notebooks - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    No Bullshit Guide to Statistics
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../notebooks/10_DATA.html">Chapter 1 — Data</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/11_intro_to_data.html">Section 1.1 — Introduction to data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/12_data_in_practice.html">Section 1.2 — Data in practice</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/13_descriptive_statistics.html">Section 1.3 — Descriptive statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../exercises/exercises_13_descr_stats.html">Descriptive statistics exercises</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../notebooks/20_PROB.html">Chapter 2 — Probability theory</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/21_discrete_random_vars.html">Section 2.1 — Discrete random variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/22_multiple_random_vars.html">Section 2.2 — Multiple random variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/23_inventory_discrete_dists.html">Section 2.3 — Inventory of discrete distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/24_continuous_random_vars.html">Section 2.4 — Continuous random variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/25_multiple_continuous_random_vars.html">Section 2.5 — Multiple continuous random variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/26_inventory_continuous_dists.html">Section 2.6 — Inventory of continuous distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/28_random_samples.html">Section 2.8 — Probability models for random samples</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../notebooks/30_STATS.html">Chapter 3 — Classical statistics</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/31_estimators.html">Section 3.1 — Estimators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../exercises/exercises_31_estimtors.html">Exercises for Section 3.1 Estimates and estimators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/32_confidence_intervals.html">Section 3.2 — Confidence intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../exercises/exercises_32_confidence_intervals.html">Exercises for Section 3.2 Confidence intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/33_intro_to_NHST.html">Section 3.3 — Introduction to hypothesis testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/34_analytical_approx.html">Section 3.4 — Hypothesis testing using analytical approximations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/35_two_sample_tests.html">Section 3.5 — Two-sample hypothesis tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/36_design.html">Section 3.6 — Statistical design and error analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/37_inventory_stats_tests.html">Section 3.7 — Inventory of statistical tests</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../examples/README.html">Statistical analysis examples</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../examples/statistical_design.html">Statistical design examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/one_sample_z-test.html">One-sample z-test for the mean</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/one_sample_t-test.html">One-sample t-test for the mean</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/two_sample_t-test.html">Welch’s two-sample <span class="math notranslate nohighlight">\(t\)</span>-test</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/ANOVA.html">Analysis of variance (ANOVA)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/two_sample_equivalence_test.html">Two-sample equivalence test</a></li>

</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../notebooks/40_LINEAR_MODELS.html">Chapter 4 — Linear models</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/41_simple_linear_regression.html">Section 4.1 — Simple linear regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/42_multiple_linear_regression.html">Section 4.2 — Multiple linear regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/43_interpreting_linear_models.html">Section 4.3 — Interpreting linear models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/44_regression_with_categorical_predictors.html">Section 4.4 — Regression with categorical predictors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/45_causal_inference.html">Section 4.5 — Model selection for causal inference</a></li>

<li class="toctree-l2"><a class="reference internal" href="../notebooks/46_generalized_linear_models.html">Section 4.6 — Generalized linear models</a></li>

</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../notebooks/50_BAYESIAN_STATS.html">Chapter 5 — Bayesian statistics</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/51_intro_to_Bayesian_stats.html">Section 5.1 — Introduction to Bayesian statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/52_Bayesian_inference_computations.html">Section 5.2 — Bayesian inference computations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/53_Bayesian_linear_models.html">Section 5.3 — Bayesian linear models</a></li>

<li class="toctree-l2"><a class="reference internal" href="../notebooks/54_difference_between_means.html">Section 5.4 — Bayesian difference between means</a></li>

<li class="toctree-l2"><a class="reference internal" href="../notebooks/55_hierarchical_models.html">Section 5.5 — Hierarchical models</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="appendix.html">Appendix</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="python_tutorial.html">Appendix C — Python tutorial</a></li>












<li class="toctree-l2 current active"><a class="current reference internal" href="#">Appendix D — Pandas tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="seaborn_tutorial.html">Appendix E — Seaborn tutorial</a></li>

<li class="toctree-l2"><a class="reference internal" href="calculus_tutorial.html">Calculus tutorial</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../blogposts/index.html">Blog posts</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../blogposts/python_for_stats.html">Using Python for learning statistics Part 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blogposts/probability_models.html">Using Python for probability calculations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blogposts/sampling_distributions.html">Sampling distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blogposts/bootstrap.html">Bootstrap estimation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blogposts/simulation_hypothesis_tests.html">Hypothesis testing using simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blogposts/permutation_test.html">Permutation tests for comparing two groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blogposts/stats_procedures.html">Python libraries for doing statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blogposts/python_stats_libraries.html">Python libraries for doing statistics</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/minireference/noBSstats/main?urlpath=lab/tree/./tutorials/pandas_tutorial.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Binder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Binder logo" src="../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="initThebeSBT()"
  class="btn btn-sm btn-launch-thebe dropdown-item"
  title="Launch Thebe"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="btn__text-container">Live Code</span>
</button>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/minireference/noBSstats" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/minireference/noBSstats/issues/new?title=Issue%20on%20page%20%2Ftutorials/pandas_tutorial.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/tutorials/pandas_tutorial.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Appendix D — Pandas tutorial</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pandas-overview">Pandas overview</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-pandas">Installing Pandas</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#series">Series</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculations">Calculations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bonus-material-1">Bonus material 1</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bonus-material-2">Bonus material 2</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-frames">Data frames</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-frame-properties">Data frame properties</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-and-selecting-values">Accessing and selecting values</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-individual-values">Accessing individual values</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#selecting-entire-rows">Selecting entire rows</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#selecting-entire-columns">Selecting entire columns</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#selecting-multiple-columns">Selecting multiple columns</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#selecting-only-certain-rows">Selecting only certain rows</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-data-frames-from-lists">Creating data frames from lists</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-1-select-team-a">Exercise 1: select team <code class="docutils literal notranslate"><span class="pre">a</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sorting-grouping-and-aggregation">Sorting, grouping and aggregation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sorting">Sorting</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#group-by-and-aggregation">Group by and aggregation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-crosstab">Using <code class="docutils literal notranslate"><span class="pre">crosstab</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-pivot-and-pivot-table">Using <code class="docutils literal notranslate"><span class="pre">pivot</span></code> and <code class="docutils literal notranslate"><span class="pre">pivot_table</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-transformations">Data transformations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#transpose">Transpose</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-new-columns">Adding new columns</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dropping-rows-and-and-columns">Dropping rows and and columns</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#renaming-columns-and-values">Renaming columns and values</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reshaping-data-frames">Reshaping data frames</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#bonus-explainer-1-sort-after-melt">BONUS EXPLAINER 1: SORT AFTER MELT</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#bonus-explainer-2-undo-melt-with-pivot">BONUS EXPLAINER 2: UNDO MELT WITH PIVOT</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tidy-data">Tidy data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#string-methods">String methods</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#merging-data-frames">Merging data frames</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#type-conversions">Type conversions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dummy-coding-of-categorical-variables">Dummy coding of categorical variables</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-cleaning">Data cleaning</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#standardize-categorical-values">Standardize categorical values</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-2-cleaning-the-cats-data">Exercise 2: cleaning the cats data</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#number-formatting-errors">Number formatting errors</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dealing-with-missing-values">Dealing with missing values</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identifying-and-removing-outliers">Identifying and removing outliers</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#why-outliers-are-problematic">Why outliers are problematic</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#criteria-for-identifying-outliers">Criteria for identifying outliers</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#visual-inspection-of-the-data">Visual inspection of the data</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tukey-outliers">Tukey outliers</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-z-scores">Computing z-scores</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#removing-outliers">Removing outliers</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#when-should-we-drop-outliers">When should we drop outliers</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-of-data-cleaning">Summary of data cleaning</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-a">Exercise A</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-sources">Data sources</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-extraction-get-our-hands-on-data">Data extraction: get our hands on data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-formats">Data formats</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#csv-files">CSV files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#other-data-formats">Other data formats</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#spreadsheets-files">Spreadsheets files</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tsv">TSV</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#json">JSON</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#html-tables">HTML tables</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#xml">XML</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sqlite-databases">SQLite databases</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#case-studies">Case studies</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collecting-the-apples-dataset">Collecting the apples dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collecting-the-electricity-prices-dataset">Collecting the electricity prices dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collecting-the-students-dataset">Collecting the students dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collecting-the-kombucha-dataset">Collecting the kombucha dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collecting-the-doctors-dataset">Collecting the doctors dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collecting-the-website-visitors-dataset">Collecting the website visitors dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collecting-the-players-dataset">Collecting the players dataset</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bonus-topics">Bonus topics</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#index-and-sorting">Index and sorting</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pandas-plot-methods">Pandas plot methods</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy-arrays">NumPy arrays</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#selecting-a-subset-of-the-values">Selecting a subset of the values</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-list-of-evenly-spaced-numbers">Create a list of evenly spaced numbers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">Exercises</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#links">Links</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#music-videos">Music videos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#general-concepts">General concepts</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cheatsheets">Cheatsheets</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tutorials">Tutorials</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Data cleaning</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#articles">Articles</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#books">Books</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="appendix-d-pandas-tutorial">
<h1>Appendix D — Pandas tutorial<a class="headerlink" href="#appendix-d-pandas-tutorial" title="Link to this heading">#</a></h1>
<p>The tutorial is still under development. See <a class="reference external" href="https://nobsstats.com/tutorials/pandas_tutorial.html">this link</a> for the latest version, or click the binder button <a class="reference external" href="https://mybinder.org/v2/gh/minireference/noBSstats/HEAD?labpath=tutorials/pandas_tutorial.ipynb"><img alt="Binder" src="https://mybinder.org/badge_logo.svg" /></a> to run this notebook interactively.</p>
<!-- 
TOPICS CUT FROM SEC 1.2 (cover in Pandas tutorial appendix)
	- other aggregations 
		crosstab
		(optional) pivot table

    - astype \emph{transform} (data type)
	(optional) - .str text processing
	(optional) one-hot coding

    - Index and sorting
		- Sorting
		- \texttt{sort_values}
		- \texttt{sort_index}
		- rank
	
DECISIONS:
- Sept 12: no more use of the custom function `head`

--><section id="pandas-overview">
<h2>Pandas overview<a class="headerlink" href="#pandas-overview" title="Link to this heading">#</a></h2>
<p>The Pandas library provides data structures for working with tabular data.
Pandas is the standard tool used for real-world data management,
data cleaning, and statistical analysis in Python.
You can think of Pandas as a Swiss army knife for data manipulations,
since it provides a multitude of functions and methods for doing common tasks.</p>
<!-- is a powerful and versatile toolbox for manipulating tabular data. -->
<p>This tutorial will introduce you to the essential parts of the Pandas library,
with a focus on the data manipulation tasks used in statistics.
We’ll starting with Pandas essentials like loading data from source
into Pandas data frames, and get to know the data frame methods.</p>
<!-- PYTHON PREREQUISITE -->
<!-- Pandas is a library built on top of basic Python syntax: -->
<!-- Maybe add a refresher on Python: list, sum, len, indexing, slicing, ??? -->
<p>Pandas is a Python library,
so any prior experience with Python will come in handy.
Remember that Appendix C - <a class="reference internal" href="python_tutorial.html"><span class="std std-doc">python_tutorial.ipynb</span></a> contains a Python tutorial
you can use to get up to speed quickly on the syntax,
so if you haven’t checked that out yet now would be a good time.</p>
<!--
before we really start getting into the Pandas code examples.
This intro-to-python appendix will show you Python data types (`int`, `float`, `bool`, `list`, etc.),
Python operators (`+`, `-`, `*`, `/`, `**`, etc.),
and functions (`len`, `sum`, `print`, etc.).
There is nothing complicated,
but it's good to learn the basic syntax
so you'll know the meaning of symbols like `=`, `:`, `[`, `(`, etc.
--><section id="installing-pandas">
<h3>Installing Pandas<a class="headerlink" href="#installing-pandas" title="Link to this heading">#</a></h3>
<p>First,
let’s make sure pandas is installed using the <code class="docutils literal notranslate"><span class="pre">%pip</span></code> Jupyter command.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">pip</span> install -q pandas
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> A new release of pip is available: <span class=" -Color -Color-Red">25.2</span> -&gt; <span class=" -Color -Color-Green">25.3</span>
<span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> To update, run: <span class=" -Color -Color-Green">pip install --upgrade pip</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<p>We then import the <code class="docutils literal notranslate"><span class="pre">pandas</span></code> library under the alias <code class="docutils literal notranslate"><span class="pre">pd</span></code>,
which is a widespread convention that makes Pandas commands short and fast to type.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<p>All the Pandas functionality is now available behind the alias <code class="docutils literal notranslate"><span class="pre">pd</span></code>.</p>
<p>Pandas is a high-level toolbox for manipulating data.
In particular,
if you learn how to work with list-like <code class="docutils literal notranslate"><span class="pre">pd.Series</span></code> objects,
and table-like <code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code> objects,
then you’ll know most of what you need to know about data management.</p>
<p>We’ll also import the NumPy module
and issue a command to control the display of numbers in the rest of the notebook.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="c1"># simple int and float __repr__</span>
<span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">legacy</span><span class="o">=</span><span class="s1">&#39;1.25&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="series">
<h2>Series<a class="headerlink" href="#series" title="Link to this heading">#</a></h2>
<p>Pandas <code class="docutils literal notranslate"><span class="pre">Series</span></code> objects are list-like containers of values.
We work with series whenever performing calculations on individual columns (variables) of a data frame.
We’ll start by creating a standalone <code class="docutils literal notranslate"><span class="pre">pd.Series</span></code> object,
and defer the discussion about data frames until the next subsection.</p>
<p>The code line below shows how to create a series from a list of four numbers.
Pandas <code class="docutils literal notranslate"><span class="pre">pd.Series</span></code> objects are similar to Python lists <code class="docutils literal notranslate"><span class="pre">[3,5,7,9]</span></code>.
They are containers for series of values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>We stored the series object into a variable named <code class="docutils literal notranslate"><span class="pre">s</span></code>,
which is short for series.</p>
<p>We can print the series <code class="docutils literal notranslate"><span class="pre">s</span></code> by simply typing its name in a new code cell.
Recall that the notebook interface automatically prints the last expression evaluated in a code cell.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    3
1    5
2    7
3    9
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>The numbers printed on the left are called the <code class="docutils literal notranslate"><span class="pre">index</span></code> of the series,
while the numbers on the right are the <code class="docutils literal notranslate"><span class="pre">values</span></code> of the series.
The last line in the output shows some additional information about the series.
The series <code class="docutils literal notranslate"><span class="pre">s</span></code> contains integers,
so its <code class="docutils literal notranslate"><span class="pre">dtype</span></code> (data type) is <code class="docutils literal notranslate"><span class="pre">int64</span></code>.</p>
<!-- Robyn said: This is the first time that dtype and int64 is brought up. Should we explain this more? -->
<p>We use integer indices to identify the elements in the series:
the first element is at index <code class="docutils literal notranslate"><span class="pre">0</span></code>,
the second element is at index <code class="docutils literal notranslate"><span class="pre">1</span></code>,
and so on,
until the last element which is at index <code class="docutils literal notranslate"><span class="pre">len(s)-1</span></code>.
Here is an example that shows accessing individual values of the series
using the default 0-based indexing.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;First:  index =&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot; value =&quot;</span><span class="p">,</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Second: index =&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot; value =&quot;</span><span class="p">,</span> <span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Last:   index =&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot; value =&quot;</span><span class="p">,</span> <span class="n">s</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>First:  index = 0  value = 3
Second: index = 1  value = 5
Last:   index = 3  value = 9
</pre></div>
</div>
</div>
</div>
<p>The series <code class="docutils literal notranslate"><span class="pre">index</span></code> attribute tells you all the possible indices for the series.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RangeIndex(start=0, stop=4, step=1)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0, 1, 2, 3]
</pre></div>
</div>
</div>
</div>
<p>The series <code class="docutils literal notranslate"><span class="pre">s</span></code> uses the default index <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">3]</span></code>,
which consists of a range of integers, starting at 0,
just like the index of a Python list with four elements.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">values</span></code> attributes of the series tells you the underlying values without the index.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([3, 5, 7, 9])
</pre></div>
</div>
</div>
</div>
<p>You can access the individual elements of the series using the square brackets syntax
based on the index labels for the series.
The first element in the series is at index <code class="docutils literal notranslate"><span class="pre">0</span></code>,
so we access it as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3
</pre></div>
</div>
</div>
</div>
<p>We can select a range of elements from the list using the the square
brackets and slice notation for the indices:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    3
1    5
2    7
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>The slice notation <code class="docutils literal notranslate"><span class="pre">0:3</span></code> refers to the list of indices <code class="docutils literal notranslate"><span class="pre">[0,1,2]</span></code>.
The result of <code class="docutils literal notranslate"><span class="pre">s[0:3]</span></code> is a new series that contains a subset of the original series
that contains the first three elements.</p>
<section id="calculations">
<h3>Calculations<a class="headerlink" href="#calculations" title="Link to this heading">#</a></h3>
<p>Pandas series have methods for performing common calculations.
For example,
the method <code class="docutils literal notranslate"><span class="pre">.count()</span></code> tells us length of the series:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>  <span class="c1"># == len(s)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
<p>The method <code class="docutils literal notranslate"><span class="pre">.sum()</span></code> computes the sum of the values in the series.</p>
<!-- TODO: mention this is the same as SUM(\...) in Excel --><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>24
</pre></div>
</div>
</div>
</div>
<p>You can perform arithmetic operations like <code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code>, <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">/</span></code> with series.
For example,
we can convert the counts in the series <code class="docutils literal notranslate"><span class="pre">s</span></code> to proportions,
but dividing the series <code class="docutils literal notranslate"><span class="pre">s</span></code> by the sum of the values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">/</span> <span class="n">s</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    0.125000
1    0.208333
2    0.291667
3    0.375000
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Series have methods for computing <em>descriptive statistics</em> like
<code class="docutils literal notranslate"><span class="pre">.min()</span></code>, <code class="docutils literal notranslate"><span class="pre">.max()</span></code>, <code class="docutils literal notranslate"><span class="pre">.mean()</span></code>, <code class="docutils literal notranslate"><span class="pre">.median()</span></code>, <code class="docutils literal notranslate"><span class="pre">.var()</span></code>, <code class="docutils literal notranslate"><span class="pre">.std()</span></code>, <code class="docutils literal notranslate"><span class="pre">.quantile()</span></code>, etc.
For example,
the mean (average value) and the standard deviation (dispersion from the mean)
are two common statistics we want to compute from data.
We can calculate the arithmetic mean of the values in the series <code class="docutils literal notranslate"><span class="pre">s</span></code> by calling its <code class="docutils literal notranslate"><span class="pre">.mean()</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6.0
</pre></div>
</div>
</div>
</div>
<p>To find the sample standard deviation of the values in the series <code class="docutils literal notranslate"><span class="pre">s</span></code>,
we use the <code class="docutils literal notranslate"><span class="pre">.std()</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.581988897471611
</pre></div>
</div>
</div>
</div>
<p>Pandas makes it really easy to compute all descriptive statistics!</p>
<p>TODO: TABLE showing all methods on Series objects</p>
<p>We can also use arbitrary <code class="docutils literal notranslate"><span class="pre">numpy</span></code> functions on series,
and Pandas will apply the function to the values in the series.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    1.098612
1    1.609438
2    1.945910
3    2.197225
dtype: float64
</pre></div>
</div>
</div>
</div>
</section>
<section id="bonus-material-1">
<h3>Bonus material 1<a class="headerlink" href="#bonus-material-1" title="Link to this heading">#</a></h3>
<p>A series can contain <code class="docutils literal notranslate"><span class="pre">float</span></code> values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">])</span>
<span class="n">s2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    0.3
1    1.5
2    2.2
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Here is another example of a series that contains strings (categorical variables).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s3</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">])</span>
<span class="n">s3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    a
1    b
2    b
3    c
dtype: object
</pre></div>
</div>
</div>
</div>
</section>
<section id="bonus-material-2">
<h3>Bonus material 2<a class="headerlink" href="#bonus-material-2" title="Link to this heading">#</a></h3>
<p>Pandas series allow arbitrary labels to be used as the index, not just integers.
For example, we can use string labels like (<code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code>, etc.) as the index of a series.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s4</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">,</span> <span class="s2">&quot;t&quot;</span><span class="p">],</span>
               <span class="n">data</span> <span class="o">=</span><span class="p">[</span> <span class="mi">3</span><span class="p">,</span>   <span class="mi">5</span><span class="p">,</span>   <span class="mi">7</span><span class="p">,</span>   <span class="mi">9</span> <span class="p">])</span>
<span class="n">s4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x    3
y    5
z    7
t    9
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s4</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;t&#39;], dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s4</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([3, 5, 7, 9])
</pre></div>
</div>
</div>
</div>
<p>We can now use the string labels to access the individual elements in the series.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s4</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
</pre></div>
</div>
</div>
</div>
<p>In other words,
Pandas series also act like Python <code class="docutils literal notranslate"><span class="pre">dict</span></code>ionary objects with arbitrary keys.
Indeed any quantity that can be used as a <code class="docutils literal notranslate"><span class="pre">key</span></code> in a dictionary (a Python hashable object),
can also be used as a label in a Pandas series.
The list of <code class="docutils literal notranslate"><span class="pre">keys</span></code> of a Python dictionary is the same as the <code class="docutils literal notranslate"><span class="pre">index</span></code> of a Pandas series.</p>
</section>
</section>
<section id="data-frames">
<h2>Data frames<a class="headerlink" href="#data-frames" title="Link to this heading">#</a></h2>
<p>A Pandas data frame (<code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code>) is a container for tabular data similar to a spreadsheet.
You can also think of Pandas data frames as collections of Pandas series.</p>
<!-- TODO: explain more in high-level analogy to smoothen this step\... -->
<p>The most common way to create a data frame is to read data from a CSV (Comma-Separated-Values) file.
Here is the raw contents of the sample data file <code class="docutils literal notranslate"><span class="pre">minimal.csv</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>cat<span class="w"> </span><span class="s2">&quot;datasets/minimal.csv&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x,y,team,level
1.0,2.0,a,3
1.5,1.0,a,2
2.0,1.5,a,1
2.5,2.0,b,3
3.0,1.5,b,3
</pre></div>
</div>
</div>
</div>
<p>The code sample below shows how to load the data file <code class="docutils literal notranslate"><span class="pre">datasets/minimal.csv</span></code>
into a data frame called <code class="docutils literal notranslate"><span class="pre">df</span></code>,
which is a common name we use for data frames.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;datasets/minimal.csv&quot;</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>team</th>
      <th>level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>2.0</td>
      <td>a</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.5</td>
      <td>1.0</td>
      <td>a</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>1.5</td>
      <td>a</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2.5</td>
      <td>2.0</td>
      <td>b</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3.0</td>
      <td>1.5</td>
      <td>b</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The function <code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code> reads the contents of the data file <code class="docutils literal notranslate"><span class="pre">datasets/minimal.csv</span></code>
and automatically determines the names of the columns based on the first line in the CSV file,
which is called the <em>header</em> row.</p>
<p>We’ll use the data frame <code class="docutils literal notranslate"><span class="pre">df</span></code> for many of the examples in the remainder of this tutorial.
The data corresponds to five players in a computer game.
The columns <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> describe the position of the player,
the variable <code class="docutils literal notranslate"><span class="pre">team</span></code> indicates which team the player is part of,
and the column <code class="docutils literal notranslate"><span class="pre">level</span></code> specifies the character’s strength.
The meaning of the variables will not be important,
since we’ll be focussing on the technical aspects of the data manipulation procedures.</p>
<p>Pandas provides methods for loading data from many data file formats.
The function <code class="docutils literal notranslate"><span class="pre">pd.read_excel()</span></code> can be used to load data from spreadsheet files.
There are also functions <code class="docutils literal notranslate"><span class="pre">pd.read_html()</span></code>, <code class="docutils literal notranslate"><span class="pre">pd.read_json()</span></code>,
and <code class="docutils literal notranslate"><span class="pre">pd.read_xml()</span></code> for reading data from other file formats.
We’ll talk more about various data formats later in this section.</p>
<section id="data-frame-properties">
<h3>Data frame properties<a class="headerlink" href="#data-frame-properties" title="Link to this heading">#</a></h3>
<p>Let’s explore the attributes and methods of the data frame <code class="docutils literal notranslate"><span class="pre">df</span></code>.
First let’s use the Python function <code class="docutils literal notranslate"><span class="pre">type</span></code> to confirm that <code class="docutils literal notranslate"><span class="pre">df</span></code> is indeed a data frame object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pandas.core.frame.DataFrame
</pre></div>
</div>
</div>
</div>
<p>The above message tells us that the <code class="docutils literal notranslate"><span class="pre">df</span></code> object
is an instance of the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> class
defined in the Python module <code class="docutils literal notranslate"><span class="pre">pandas.core.frame</span></code>.</p>
<!-- We'll usually refer to data frame class as `pd.DataFrame` since the exact location where the code is defined is not important. -->
<!-- TODO: explain instance has useful attributes and methods -->
<p>Every data frame has the attributes <code class="docutils literal notranslate"><span class="pre">index</span></code> and <code class="docutils literal notranslate"><span class="pre">columns</span></code>,
as illustrated in the following figure:</p>
<p><img alt="Anatomy of the data frame ." src="https://raw.githubusercontent.com/minireference/noBSstats/main/tutorials/src/attachments/anatomy-of-minimal-df.png" /></p>
<p>The <code class="docutils literal notranslate"><span class="pre">index</span></code> is used to refer to the rows of the data frame.</p>
<!-- TODO: use \"row numbers\" intuitive explanation --><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RangeIndex(start=0, stop=5, step=1)
</pre></div>
</div>
</div>
</div>
<p>The data frame <code class="docutils literal notranslate"><span class="pre">df</span></code> uses the “default” range index that consists of a sequence integer labels: <code class="docutils literal notranslate"><span class="pre">[0,1,2,3,4]</span></code>,
similar to the 0-based indexing used to access the elements of Python lists.</p>
<!-- Other datasets could use an index that consists of identifiers (e.g. student ID) or dates. -->
<p>The columns-index attribute <code class="docutils literal notranslate"><span class="pre">.columns</span></code> tells us the names of the columns (variables) in the data frame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;x&#39;, &#39;y&#39;, &#39;team&#39;, &#39;level&#39;], dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>Column names usually consist of short textual identifiers for the variable (Python strings).
Note that spaces and special characters can appear in column names.
Column names like <code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">position&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;level</span> <span class="pre">(1</span> <span class="pre">to</span> <span class="pre">3)&quot;</span></code> are allowed,
but generally discouraged since complicated column names make data manipulation code more difficult to read.</p>
<p>Another important property of the data frame is its shape.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(5, 4)
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">shape</span></code> of the data frame <code class="docutils literal notranslate"><span class="pre">df</span></code> is <span class="math notranslate nohighlight">\(5 \times 4\)</span>,
which means it has five rows and four columns.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">.dtypes</span></code> (data types) attribute
tells us what <code class="docutils literal notranslate"><span class="pre">type</span></code> of data is stored in each of the columns.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x        float64
y        float64
team      object
level      int64
dtype: object
</pre></div>
</div>
</div>
</div>
<p>We see that the columns <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> contain floating point numbers,
the column <code class="docutils literal notranslate"><span class="pre">team</span></code> can contain arbitrary Python objects (in this case Python strings),
and the column <code class="docutils literal notranslate"><span class="pre">level</span></code> contains integers.</p>
<p>The method <code class="docutils literal notranslate"><span class="pre">.info()</span></code> provides additional facts about the data frame object <code class="docutils literal notranslate"><span class="pre">df</span></code>,
including information about missing values (null values) and the total memory usage.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">memory_usage</span><span class="o">=</span><span class="s2">&quot;deep&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 5 entries, 0 to 4
Data columns (total 4 columns):
 #   Column  Non-Null Count  Dtype  
---  ------  --------------  -----  
 0   x       5 non-null      float64
 1   y       5 non-null      float64
 2   team    5 non-null      object 
 3   level   5 non-null      int64  
dtypes: float64(2), int64(1), object(1)
memory usage: 538.0 bytes
</pre></div>
</div>
</div>
</div>
<p>The data frame <code class="docutils literal notranslate"><span class="pre">df</span></code> takes up 538 bytes of memory, which is not a lot.
You don’t have to worry about memory usage for any of the datasets we’ll analyze in this book,
since they are all small- and medium-sized.
You might have to think about memory usage if you work on larger data sets like logs or databases.</p>
<p>When exploring a data frame,
we often want to print the first few rows of the data frame to see what they look like.
The data frame method <code class="docutils literal notranslate"><span class="pre">.head(k)</span></code> prints the first <code class="docutils literal notranslate"><span class="pre">k</span></code> rows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>team</th>
      <th>level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>2.0</td>
      <td>a</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.5</td>
      <td>1.0</td>
      <td>a</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>You can also call <code class="docutils literal notranslate"><span class="pre">df.tail(k)</span></code> to print the last <span class="math notranslate nohighlight">\(k\)</span> rows of the data frame,
or call <code class="docutils literal notranslate"><span class="pre">df.sample(k)</span></code> to select a random sample of size <code class="docutils literal notranslate"><span class="pre">k</span></code> from the data frame.</p>
</section>
<section id="accessing-and-selecting-values">
<h3>Accessing and selecting values<a class="headerlink" href="#accessing-and-selecting-values" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">.loc[]</span></code> attribute is used to access individual values,
rows, or columns from the data frame.</p>
<section id="accessing-individual-values">
<h4>Accessing individual values<a class="headerlink" href="#accessing-individual-values" title="Link to this heading">#</a></h4>
<p>The syntax <code class="docutils literal notranslate"><span class="pre">df.loc[row,col]</span></code> is used to select the value
that corresponds to the row label <code class="docutils literal notranslate"><span class="pre">row</span></code>
and column label <code class="docutils literal notranslate"><span class="pre">col</span></code> in the data frame <code class="docutils literal notranslate"><span class="pre">df</span></code>.
For example,
to extract the value of the variable <code class="docutils literal notranslate"><span class="pre">y</span></code>
for the third row, we use:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.5
</pre></div>
</div>
</div>
</div>
</section>
<section id="selecting-entire-rows">
<h4>Selecting entire rows<a class="headerlink" href="#selecting-entire-rows" title="Link to this heading">#</a></h4>
<p>To select rows from a data frame,
we use <code class="docutils literal notranslate"><span class="pre">df.loc[row,:]</span></code> where the <code class="docutils literal notranslate"><span class="pre">:</span></code> syntax is shorthand for “all columns.”</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">row2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2</span><span class="p">,:]</span>
<span class="n">row2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x        2.0
y        1.5
team       a
level      1
Name: 2, dtype: object
</pre></div>
</div>
</div>
</div>
<!-- Patrick said: emphasize that the \"row\" corresponds to a given value of the index and not its sequential number from top to bottom (which is .iloc) -->
<p>The rows of a data frame are series objects and their index is the same as the columns index of the data frame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">row2</span><span class="p">),</span> <span class="n">row2</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(pandas.core.series.Series, Index([&#39;x&#39;, &#39;y&#39;, &#39;team&#39;, &#39;level&#39;], dtype=&#39;object&#39;))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">row2</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([2.0, 1.5, &#39;a&#39;, 1], dtype=object)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">row2</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.5
</pre></div>
</div>
</div>
</div>
</section>
<section id="selecting-entire-columns">
<h4>Selecting entire columns<a class="headerlink" href="#selecting-entire-columns" title="Link to this heading">#</a></h4>
<p>We use the syntax <code class="docutils literal notranslate"><span class="pre">df[col]</span></code> to select the column <code class="docutils literal notranslate"><span class="pre">col</span></code> from a data frame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ys</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span>
<span class="n">ys</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    2.0
1    1.0
2    1.5
3    2.0
4    1.5
Name: y, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>The column <code class="docutils literal notranslate"><span class="pre">ys</span></code> is a series and its index is the same as <code class="docutils literal notranslate"><span class="pre">df.index</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">ys</span><span class="p">),</span> <span class="n">ys</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(pandas.core.series.Series, RangeIndex(start=0, stop=5, step=1))
</pre></div>
</div>
</div>
</div>
<p>The column-selector syntax <code class="docutils literal notranslate"><span class="pre">df[col]</span></code>
is shorthand for the expression <code class="docutils literal notranslate"><span class="pre">df.loc[:,col]</span></code>,
which means “select all the rows for the column <code class="docutils literal notranslate"><span class="pre">col</span></code>.”
We can verify that <code class="docutils literal notranslate"><span class="pre">df[&quot;y&quot;]</span></code> equals <code class="docutils literal notranslate"><span class="pre">df.loc[:,&quot;y&quot;]</span></code> using the <code class="docutils literal notranslate"><span class="pre">.equals()</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;y&quot;</span><span class="p">]</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
</section>
<section id="selecting-multiple-columns">
<h4>Selecting multiple columns<a class="headerlink" href="#selecting-multiple-columns" title="Link to this heading">#</a></h4>
<p>We can extract multiple columns from a data frame
by passing a list of column names inside the square brackets.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.5</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2.5</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3.0</td>
      <td>1.5</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The result is a new data frame object
that contains only the <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> columns from the original <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
</section>
<section id="selecting-only-certain-rows">
<h4>Selecting only certain rows<a class="headerlink" href="#selecting-only-certain-rows" title="Link to this heading">#</a></h4>
<p>A common task when working with Pandas data frames is to select the rows that fit one or more criteria.
We usually carry out this selection procedure using in two-step process:</p>
<ul class="simple">
<li><p>Build a “selection mask” series that consists of boolean values (<code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>).
The mask series contains the value <code class="docutils literal notranslate"><span class="pre">True</span></code> for the rows we want to keep,
and the value <code class="docutils literal notranslate"><span class="pre">False</span></code> for the rows we want to filter out.</p></li>
<li><p>Select the subset of rows from the data frame using the mask.
The result is a new data frame
that contains only the rows that correspond to the <code class="docutils literal notranslate"><span class="pre">True</span></code> values in the selection mask.</p></li>
</ul>
<p>For example,
to select the rows from the data frame that are part of team <code class="docutils literal notranslate"><span class="pre">b</span></code>,
we first build the selection mask.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mask</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;team&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;b&quot;</span>
<span class="n">mask</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    False
1    False
2    False
3     True
4     True
Name: team, dtype: bool
</pre></div>
</div>
</div>
</div>
<p>The rows that match the criterion “<code class="docutils literal notranslate"><span class="pre">team</span></code> column equal to <code class="docutils literal notranslate"><span class="pre">b</span></code>”
correspond to the <code class="docutils literal notranslate"><span class="pre">True</span></code> values in the mask,
while the remaining values are <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>The actual selection is done by using the mask inside the square brackets.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>team</th>
      <th>level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>2.5</td>
      <td>2.0</td>
      <td>b</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3.0</td>
      <td>1.5</td>
      <td>b</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The result is a new data frame that contains only the rows that correspond to the <code class="docutils literal notranslate"><span class="pre">True</span></code> values in the <code class="docutils literal notranslate"><span class="pre">mask</span></code> series.</p>
<p>We often combine the two steps we described above into a single expression <code class="docutils literal notranslate"><span class="pre">df[df[&quot;team&quot;]==&quot;b&quot;]</span></code>.
This combined expression is a little hard to read at first,
since it contains two pairs of square brackets and two occurrences of the data frame name <code class="docutils literal notranslate"><span class="pre">df</span></code>,
but you’ll quickly get used to it,
because you’ll see this type of selection expressions very often.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;team&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;b&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>team</th>
      <th>level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>2.5</td>
      <td>2.0</td>
      <td>b</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3.0</td>
      <td>1.5</td>
      <td>b</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We can use the Python bitwise boolean operators <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> (AND), <code class="docutils literal notranslate"><span class="pre">|</span></code> (OR) and <code class="docutils literal notranslate"><span class="pre">~</span></code> (NOT)
to build selection masks with multiple criteria.
For example,
to select the rows with <code class="docutils literal notranslate"><span class="pre">team</span></code> is <code class="docutils literal notranslate"><span class="pre">b</span></code> where the <code class="docutils literal notranslate"><span class="pre">x</span></code> value is greater or equal to 3,
we would use the following expression.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;team&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;b&quot;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>team</th>
      <th>level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>4</th>
      <td>3.0</td>
      <td>1.5</td>
      <td>b</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The selection mask consists of two terms <code class="docutils literal notranslate"><span class="pre">(df[&quot;team&quot;]==&quot;b&quot;)</span></code> and <code class="docutils literal notranslate"><span class="pre">(df[&quot;x&quot;]&gt;=3)</span></code>
that are combined with the bitwise AND operator <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>.
Note the use of extra parentheses to ensure the masks for the two conditions are computed first before the <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> operation is applied.</p>
<p>If we want to select multiple values of a variable,
we can use the <code class="docutils literal notranslate"><span class="pre">.isin()</span></code> method and specify a list of values to compare with.
For example,
to build a mask that select all the observations that have <code class="docutils literal notranslate"><span class="pre">level</span></code> equal to <code class="docutils literal notranslate"><span class="pre">2</span></code> or <code class="docutils literal notranslate"><span class="pre">3</span></code>,
we can use the following code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0     True
1     True
2    False
3     True
4     True
Name: level, dtype: bool
</pre></div>
</div>
</div>
</div>
<p>We see the above expression has correctly selected all observations except the one at index <code class="docutils literal notranslate"><span class="pre">2</span></code>,
which has <code class="docutils literal notranslate"><span class="pre">level</span></code> equal to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</section>
</section>
<section id="creating-data-frames-from-lists">
<h3>Creating data frames from lists<a class="headerlink" href="#creating-data-frames-from-lists" title="Link to this heading">#</a></h3>
<p>We sometimes obtain data in the form of regular Python objects like lists and dictionaries.
If we want to use Pandas functions to manipulate this data,
we’ll need to put that data into a data frame object.</p>
<p>One way to create a data frame object
is to load Python dictionary whose keys are the column names,
and its values are lists of the data in each column.
The code below shows how to create a data frame <code class="docutils literal notranslate"><span class="pre">df2</span></code>
by initializing a <code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code> from a columns dictionary.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dict_of_columns</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span>
    <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">],</span>
    <span class="s2">&quot;team&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span>
    <span class="s2">&quot;level&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="p">}</span>

<span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">dict_of_columns</span><span class="p">)</span>
<span class="n">df2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>team</th>
      <th>level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>2.0</td>
      <td>a</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.5</td>
      <td>1.0</td>
      <td>a</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>1.5</td>
      <td>a</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2.5</td>
      <td>2.0</td>
      <td>b</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3.0</td>
      <td>1.5</td>
      <td>b</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The data frame <code class="docutils literal notranslate"><span class="pre">df2</span></code> that we created above is identical to
the data frame <code class="docutils literal notranslate"><span class="pre">df</span></code> that we loaded from the CSV file earlier.
We can confirm this by calling the <code class="docutils literal notranslate"><span class="pre">.equals()</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>Indeed,
you can think of data frame objects as dictionary-like containers whose keys are the column names,
and whose values are Pandas series objects (columns of values).</p>
<p>We can also create a data frame from a list of observation records.
Each record (row) corresponds to the data of one observation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">list_records</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="p">]</span>
<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;team&quot;</span><span class="p">,</span> <span class="s2">&quot;level&quot;</span><span class="p">]</span>

<span class="n">df3</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">list_records</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
<span class="n">df3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>team</th>
      <th>level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>2.0</td>
      <td>a</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.5</td>
      <td>1.0</td>
      <td>a</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>1.5</td>
      <td>a</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2.5</td>
      <td>2.0</td>
      <td>b</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3.0</td>
      <td>1.5</td>
      <td>b</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>When using the list-of-records approach,
Pandas can’t determine the names of the columns automatically,
so we must pass in the <code class="docutils literal notranslate"><span class="pre">columns</span></code> argument with a list of the column names we want for the data frame.
The data frame <code class="docutils literal notranslate"><span class="pre">df3</span></code> created from the lists of records
is identical to the data frame <code class="docutils literal notranslate"><span class="pre">df</span></code> that we loaded from the CSV file.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df3</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>Another way to create a data frame is to pass in a list of <code class="docutils literal notranslate"><span class="pre">dict</span></code>s:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dict_records</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">team</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span>
    <span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">team</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span>
    <span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">team</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
    <span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">team</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span>
    <span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">team</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span>
<span class="p">]</span>
<span class="n">df4</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">dict_records</span><span class="p">)</span>
<span class="n">df4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>team</th>
      <th>level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>2.0</td>
      <td>a</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.5</td>
      <td>1.0</td>
      <td>a</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>1.5</td>
      <td>a</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2.5</td>
      <td>2.0</td>
      <td>b</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3.0</td>
      <td>1.5</td>
      <td>b</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Once again,
the data frame <code class="docutils literal notranslate"><span class="pre">df4</span></code> we obtain
is identical to <code class="docutils literal notranslate"><span class="pre">df</span></code> we loaded from <code class="docutils literal notranslate"><span class="pre">minimal.csv</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df4</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>In this section,
we illustrated the most common data frame manipulation techniques you might need.
Try solving the following exercises before continuing with the rest of the tutorial.</p>
<!-- but the Pandas library provides a lot more functionality.
If you were able to follow the code examples above
and are able to complete the exercises below,
then you're ready to continue with the rest of the book.
Deep knowledge of Pandas is not required for this book,
but it's super useful skill to develop for working with data in real-world projects. --></section>
<section id="exercise-1-select-team-a">
<h3>Exercise 1: select team <code class="docutils literal notranslate"><span class="pre">a</span></code><a class="headerlink" href="#exercise-1-select-team-a" title="Link to this heading">#</a></h3>
<p>Select the rows from the data frame <code class="docutils literal notranslate"><span class="pre">df</span></code> that correspond to the players on team <code class="docutils literal notranslate"><span class="pre">a</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Instructions: write your Pandas code in this cell</span>
</pre></div>
</div>
</div>
</div>
<p><a href="https://github.com/minireference/noBSstats/blob/main/tutorials/solutions/pandas/Exercise_1_select-team-a.py" target="_blank">Click for solution.</a></p>
</section>
</section>
<section id="sorting-grouping-and-aggregation">
<h2>Sorting, grouping and aggregation<a class="headerlink" href="#sorting-grouping-and-aggregation" title="Link to this heading">#</a></h2>
<!-- TODO: move after transformation? --><section id="sorting">
<h3>Sorting<a class="headerlink" href="#sorting" title="Link to this heading">#</a></h3>
<p>TODO</p>
</section>
<section id="group-by-and-aggregation">
<h3>Group by and aggregation<a class="headerlink" href="#group-by-and-aggregation" title="Link to this heading">#</a></h3>
<p>A common calculation we need to perform in statistics
is to compare different <em>groups</em> of observations,
where the grouping is determined by one of the variables.
The Pandas method <code class="docutils literal notranslate"><span class="pre">.groupby()</span></code> is used for this purpose.
For example,
we can group the observations in the data frame <code class="docutils literal notranslate"><span class="pre">df</span></code> by the value of the <code class="docutils literal notranslate"><span class="pre">team</span></code> variable using the following code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;team&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x7fd8a24b2110&gt;
</pre></div>
</div>
</div>
</div>
<p>The result of calling the <code class="docutils literal notranslate"><span class="pre">.groupby()</span></code> method is a <code class="docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> object
that contains the subsets of the data frame that correspond to the different values of the <code class="docutils literal notranslate"><span class="pre">team</span></code> variable,
<code class="docutils literal notranslate"><span class="pre">df[df[&quot;team&quot;]==&quot;a&quot;]</span></code> and <code class="docutils literal notranslate"><span class="pre">df[df[&quot;team&quot;]==&quot;b&quot;]</span></code>.</p>
<p>We can use the <code class="docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> object to do further selection of variables and perform computations.
For example,
to compute the mean value of the <code class="docutils literal notranslate"><span class="pre">x</span></code> variable within the two groups,
we run the following code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;team&quot;</span><span class="p">)[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>team
a    1.50
b    2.75
Name: x, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>The result is a series containing the mean for the two groups.
The first row contains the value <code class="docutils literal notranslate"><span class="pre">df[df[&quot;team&quot;]==&quot;a&quot;][&quot;x&quot;].mean()</span></code>.
The second row’s value is <code class="docutils literal notranslate"><span class="pre">df[df[&quot;team&quot;]==&quot;b&quot;][&quot;x&quot;].mean()</span></code>.
Note the result is a series whose index is the <code class="docutils literal notranslate"><span class="pre">team</span></code> variable (the labels <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>).</p>
<p>We often want to compute several quantities for each group.
We can use the <code class="docutils literal notranslate"><span class="pre">.aggregate()</span></code> method after the <code class="docutils literal notranslate"><span class="pre">goupyby()</span></code> method
to compute multiple quantities.
For example,
to compute the sum, the count, and the mean value in each group
we use the following code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;team&quot;</span><span class="p">)[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">aggregate</span><span class="p">([</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sum</th>
      <th>count</th>
      <th>mean</th>
    </tr>
    <tr>
      <th>team</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>a</th>
      <td>4.5</td>
      <td>3</td>
      <td>1.50</td>
    </tr>
    <tr>
      <th>b</th>
      <td>5.5</td>
      <td>2</td>
      <td>2.75</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The above code sample is an example of the “method chaining” pattern,
which is used often in Pandas calculations.
We start with the data frame <code class="docutils literal notranslate"><span class="pre">df</span></code>,
call its <code class="docutils literal notranslate"><span class="pre">.goupyby()</span></code> method,
select the <code class="docutils literal notranslate"><span class="pre">x</span></code> column using the square brackets <code class="docutils literal notranslate"><span class="pre">[&quot;x&quot;]</span></code>,
then call the method <code class="docutils literal notranslate"><span class="pre">.aggregate()</span></code> on the result.</p>
<p>We can “chain” together any number of Pandas methods to perform complicated
data selection and aggregation operations.
The above examples show chaining just two methods,
but it is common to chain together three or more methods as well.
This ability to carry out advanced data manipulations using a sequence of simple method applications
is one of the main benefits of using Pandas for data processing.
Method chaining operations work because Pandas <code class="docutils literal notranslate"><span class="pre">Series</span></code>, <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>s,
and <code class="docutils literal notranslate"><span class="pre">GroupBy</span></code> objects all offer the same methods,
so the output of one calculation can be fed into the next.</p>
<p>When using method chaining for data manipulations,
the command chains tend to become very long
and often don’t fit on a single line of input.
We’ll therefore split Pandas expressions on multiple lines
using the Python line-continuation character <code class="docutils literal notranslate"><span class="pre">\</span></code>,
as shown in the code example below.</p>
<!-- Robyn said: You talk about the line-continuation character, but not about whitespace -->
<!-- RE: which whitespace, the indentation? that's optional -->
<!-- TODO: decide which one I am showing --- Python credo says better to show only one way to do things --><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;team&quot;</span><span class="p">)[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span> \
  <span class="o">.</span><span class="n">aggregate</span><span class="p">([</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sum</th>
      <th>count</th>
      <th>mean</th>
    </tr>
    <tr>
      <th>team</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>a</th>
      <td>4.5</td>
      <td>3</td>
      <td>1.50</td>
    </tr>
    <tr>
      <th>b</th>
      <td>5.5</td>
      <td>2</td>
      <td>2.75</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The result of the above code cell
is identical to the result of code cell that precedes it,
however writing the code on two lines using the line-continuation character <code class="docutils literal notranslate"><span class="pre">\</span></code>
makes the operations are easier to read.
It is customary (but not required)
to indent the second line by a few spaces so the dots line up.
The indentation gives a visual appearance of a “bullet list”
of operation we apply to a data frame.</p>
<p>Another way to get the benefits of multi-line commands
is to wrap the entire expression in parentheses.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">df</span>
  <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;team&quot;</span><span class="p">)[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span>
  <span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">])</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sum</th>
      <th>count</th>
      <th>mean</th>
    </tr>
    <tr>
      <th>team</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>a</th>
      <td>4.5</td>
      <td>3</td>
      <td>1.50</td>
    </tr>
    <tr>
      <th>b</th>
      <td>5.5</td>
      <td>2</td>
      <td>2.75</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The result is identical to the result in previous two code cells.
This works because we’re allowed to wrap any Python expression in parentheses without changing its value,
so wrapping the command in parentheses doesn’t do anything.
The benefit of the parentheses is that new lines are ignored for expressions inside parentheses,
so we’re allowed to break the expression onto multiple lines
without the need to add the character <code class="docutils literal notranslate"><span class="pre">\</span></code> at the end of each line.</p>
<p>Don’t worry too much about the line-continuation and parentheses tricks for multi-line expressions.
Most of the Pandas expressions you’ll see in this tutorial will fit on a single line,
but I wanted you to know about multi-line expressions syntax
in case you see it in certain places.</p>
</section>
<section id="using-crosstab">
<h3>Using <code class="docutils literal notranslate"><span class="pre">crosstab</span></code><a class="headerlink" href="#using-crosstab" title="Link to this heading">#</a></h3>
<p>TODO</p>
</section>
<section id="using-pivot-and-pivot-table">
<h3>Using <code class="docutils literal notranslate"><span class="pre">pivot</span></code> and <code class="docutils literal notranslate"><span class="pre">pivot_table</span></code><a class="headerlink" href="#using-pivot-and-pivot-table" title="Link to this heading">#</a></h3>
<p>TODO</p>
</section>
</section>
<section id="data-transformations">
<h2>Data transformations<a class="headerlink" href="#data-transformations" title="Link to this heading">#</a></h2>
<!-- 
alt. Data practicum
alt. Data wrangling
alt. Data munging -->
<p>So far we talked about selecting subsets of a data frame,
but what if we want to modify the data frame?
Pandas provides dozens of methods for modifying the shape, the index, the columns, and the data types of data frames.
All the methods we’ll show in this section return a new data frame,
so technically speaking we’re not modifying the data frames but returning new, transformed versions of the data frame,
which we usually save under a new variable name.</p>
<!-- WEAK
Tabular data comes in all kinds of shapes and forms.
Spreadsheets, CSV files, and database tables all have the common structure of rows and columns,
but there are no general rules for how the information is organized in the table.

To make working with data easier for statistical analysis and visualizations,
we want to transform the data into a "standard shape" which is called the *tidy data* structure.
The data transformation step takes the data in whatever source format it is in,
and reshapes it into a tidy format.
TODO: explain tidy again
This is usually a good moment to check the data quality and "clean" the data
by dealing with missing values and outliers.
/WEAK -->
<p>Below is a list of common data transformations you’re likely to encounter in getting “raw” source data
into the shape needed for statistical analysis.</p>
<ul>
<li><p><strong>Renaming</strong>: change the column names of a data frame.</p></li>
<li><p><strong>Reshaping and restructuring</strong> the way the data is organized.</p>
<!-- e.g. transform data into tidy data format:
one observation per row, one variable per column. -->
</li>
<li><p><strong>Imputation</strong>: filling in missing values based on the surrounding data or a fixed constant.</p></li>
<li><p><strong>Merging</strong> data from multiple sources to form a combined dataset.
For example,
we can merge a dataset about downloads per country with another dataset about countries’ populations,
so we can compute downloads-per-capita statistics.</p></li>
<li><p><strong>Filtering</strong>: selecting only a subset of the data we’re interested in.</p></li>
<li><p><strong>Splitting</strong> columns.</p></li>
<li><p><strong>Data cleaning</strong>: various procedures for identifying and correcting bad data.
Data cleaning procedures include dealing with missing values like <code class="docutils literal notranslate"><span class="pre">None</span></code>,
<code class="docutils literal notranslate"><span class="pre">NaN</span></code> (not a number), and <code class="docutils literal notranslate"><span class="pre">&lt;NA&gt;</span></code> (not available),
detecting coding errors, duplicate observations, or other inconsistencies in the data.</p></li>
<li><p><strong>Outlier detection and removal</strong>:
used to reject certain observations that fall outside the range of expected values.</p>
<!-- Robyn said: Should we already give a warning about when to do/not to this? -->
<!-- RE: No, that would be TDUF. Want just minimal definition here. -->
</li>
</ul>
<!-- TODO: make sure all of these are covered:
Common strategies for handling data problems:
- missing data $\to$ deletion, imputation
- outliers $\to$ clipping, transformation
- and errors $\to$ data cleaning, validation checks
-->
<p>We’ll now show some examples of common data transformations,
which are worth knowing about.
We’ll talk about data cleaning and outlier detection in the next section.</p>
<section id="transpose">
<h3>Transpose<a class="headerlink" href="#transpose" title="Link to this heading">#</a></h3>
<p>The <em>transpose</em> transformation flips a data frame through the diagonal,
turning the rows into columns, and columns into rows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfT</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
<span class="n">dfT</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>x</th>
      <td>1.0</td>
      <td>1.5</td>
      <td>2.0</td>
      <td>2.5</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>y</th>
      <td>2.0</td>
      <td>1.0</td>
      <td>1.5</td>
      <td>2.0</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>team</th>
      <td>a</td>
      <td>a</td>
      <td>a</td>
      <td>b</td>
      <td>b</td>
    </tr>
    <tr>
      <th>level</th>
      <td>3</td>
      <td>2</td>
      <td>1</td>
      <td>3</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>After the transpose operation,
the index <code class="docutils literal notranslate"><span class="pre">df.index</span></code> becomes the column index <code class="docutils literal notranslate"><span class="pre">dfT.columns</span></code>,
while the columns index <code class="docutils literal notranslate"><span class="pre">df.columns</span></code>
becomes the rows index <code class="docutils literal notranslate"><span class="pre">dfT.index</span></code>.</p>
<p>Other data shape transformations methods include
<code class="docutils literal notranslate"><span class="pre">.melt()</span></code>, <code class="docutils literal notranslate"><span class="pre">.stack()</span></code>, <code class="docutils literal notranslate"><span class="pre">.unstack()</span></code>, <code class="docutils literal notranslate"><span class="pre">.merge()</span></code>, etc.
We’ll discuss shape-transformation methods later in the tutorial as needed.</p>
</section>
<section id="adding-new-columns">
<h3>Adding new columns<a class="headerlink" href="#adding-new-columns" title="Link to this heading">#</a></h3>
<p>The most common modification to a data frame is to add a new column.
We can add a new column to the data frame <code class="docutils literal notranslate"><span class="pre">df</span></code> by assigning data to a new column name as shown below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;xy&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>team</th>
      <th>level</th>
      <th>xy</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>2.0</td>
      <td>a</td>
      <td>3</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.5</td>
      <td>1.0</td>
      <td>a</td>
      <td>2</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>1.5</td>
      <td>a</td>
      <td>1</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2.5</td>
      <td>2.0</td>
      <td>b</td>
      <td>3</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3.0</td>
      <td>1.5</td>
      <td>b</td>
      <td>3</td>
      <td>4.5</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>On the right side of the assignment operator <code class="docutils literal notranslate"><span class="pre">=</span></code> we compute the product of the <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> columns,
which is a series.
We assign this series to a new column called <code class="docutils literal notranslate"><span class="pre">xy</span></code>.
The result of this assignment is a modified data frame <code class="docutils literal notranslate"><span class="pre">df</span></code> with an additional column.</p>
<p>To remove a column, we use the <code class="docutils literal notranslate"><span class="pre">.drop</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;xy&quot;</span><span class="p">])</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>team</th>
      <th>level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>2.0</td>
      <td>a</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.5</td>
      <td>1.0</td>
      <td>a</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>1.5</td>
      <td>a</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2.5</td>
      <td>2.0</td>
      <td>b</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3.0</td>
      <td>1.5</td>
      <td>b</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>In the code cells above,
we were modifying the data frame <code class="docutils literal notranslate"><span class="pre">df</span></code> without changing its name.
This is considered bad coding practice because the same name
refers to different objects.
In earlier code cells,
the data frame <code class="docutils literal notranslate"><span class="pre">df</span></code> had columns <code class="docutils literal notranslate"><span class="pre">[&quot;x&quot;,</span> <span class="pre">&quot;y&quot;,</span> <span class="pre">&quot;team&quot;,</span> <span class="pre">&quot;level&quot;]</span></code>,
then we added the <code class="docutils literal notranslate"><span class="pre">xy</span></code> column
so the data frame <code class="docutils literal notranslate"><span class="pre">df</span></code> has columns <code class="docutils literal notranslate"><span class="pre">[&quot;x&quot;,</span> <span class="pre">&quot;y&quot;,</span> <span class="pre">&quot;team&quot;,</span> <span class="pre">&quot;level&quot;,</span> <span class="pre">&quot;xy&quot;]</span></code>,
and after that we dropped the column <code class="docutils literal notranslate"><span class="pre">xy</span></code> again.
This type of “in place” modifications can lead to confusion,
since they force us to keep track of the history of operations we performed on <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
<p>To avoid the need to keep track of the history of operations,
it’s best to use a different each time you modify a data frame.
For example,
you can create a copy of <code class="docutils literal notranslate"><span class="pre">df</span></code> under the new name <code class="docutils literal notranslate"><span class="pre">dfxy</span></code>
and perform the modifications on the copy as shown below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfxy</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">dfxy</span><span class="p">[</span><span class="s2">&quot;xy&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>The resulting <code class="docutils literal notranslate"><span class="pre">dfxy</span></code> is the modified <code class="docutils literal notranslate"><span class="pre">df</span></code> with the extra <code class="docutils literal notranslate"><span class="pre">xy</span></code> column,
while the original data frame remains unchanged.
Using the new name <code class="docutils literal notranslate"><span class="pre">dfxy</span></code> for the modified data frame
makes it clear it is not the same as the original <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">.assign()</span></code> method is a convenient way
to add new columns to a data frame,
which automatically makes the copy for us.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfxy</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">xy</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">.assign()</span></code> method returns a new data frame without modifying the original <code class="docutils literal notranslate"><span class="pre">df</span></code>.
We save the result to a new variable <code class="docutils literal notranslate"><span class="pre">dfxy</span></code>,
so the end result the same as the data frame <code class="docutils literal notranslate"><span class="pre">dfxy</span></code> we obtained above using the copy-then-modify approach.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">.assign()</span></code> method is very useful
for performing multiple transformations to a data frame using method chaining.
Here is an example that shows how we can perform four different transformation
to the data frame <code class="docutils literal notranslate"><span class="pre">df</span></code> in a single statement.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="n">df5</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">xy</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">])</span> \
        <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">z</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> \
        <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span> \
        <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">team</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;team&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
<span class="n">df5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>team</th>
      <th>level</th>
      <th>xy</th>
      <th>z</th>
      <th>r</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>2.0</td>
      <td>A</td>
      <td>3</td>
      <td>2.0</td>
      <td>1</td>
      <td>2.236068</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.5</td>
      <td>1.0</td>
      <td>A</td>
      <td>2</td>
      <td>1.5</td>
      <td>1</td>
      <td>1.802776</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>1.5</td>
      <td>A</td>
      <td>1</td>
      <td>3.0</td>
      <td>1</td>
      <td>2.500000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2.5</td>
      <td>2.0</td>
      <td>B</td>
      <td>3</td>
      <td>5.0</td>
      <td>1</td>
      <td>3.201562</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3.0</td>
      <td>1.5</td>
      <td>B</td>
      <td>3</td>
      <td>4.5</td>
      <td>1</td>
      <td>3.354102</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The method chain contains four <code class="docutils literal notranslate"><span class="pre">.assign()</span></code> operations.
The effect of the first operation is to add the <code class="docutils literal notranslate"><span class="pre">xy</span></code> column containing the product of <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> values.
The second operation adds a new constant column <code class="docutils literal notranslate"><span class="pre">z</span></code> equal to <code class="docutils literal notranslate"><span class="pre">1</span></code>.
The third operation adds the column <code class="docutils literal notranslate"><span class="pre">r</span></code>
obtained from the math formula <span class="math notranslate nohighlight">\(r = \sqrt{x^2 + y^2}\)</span>,
which corresponds to the distance from the origin
of a point with coordinates <span class="math notranslate nohighlight">\((x,y)\)</span>.
Note we used the function <code class="docutils literal notranslate"><span class="pre">np.sqrt</span></code> from the NumPy module
to perform the square root operation.
The last transformation changes the values of the <code class="docutils literal notranslate"><span class="pre">team</span></code> column
to be in uppercase letters.
The result of these four assign statements is stored as the new variable <code class="docutils literal notranslate"><span class="pre">df5</span></code>,
which we then display.</p>
<!-- TODO: mention this is why people like Pandas --- compact notation to get A LOT done. --></section>
<section id="dropping-rows-and-and-columns">
<h3>Dropping rows and and columns<a class="headerlink" href="#dropping-rows-and-and-columns" title="Link to this heading">#</a></h3>
<p>Pandas provides several “drop” methods for removing unwanted rows or columns from a data frame.
For example,
to drop the first (index 0), third (index 2), and fifth (index 4) rows of the data frame <code class="docutils literal notranslate"><span class="pre">df</span></code>
we can use the <code class="docutils literal notranslate"><span class="pre">.drop()</span></code> method and pass in the list of indices to remove to the <code class="docutils literal notranslate"><span class="pre">index</span></code> argument.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>team</th>
      <th>level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>1.5</td>
      <td>1.0</td>
      <td>a</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2.5</td>
      <td>2.0</td>
      <td>b</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The result is a new data frame that contains only the second (index 1) and fourth (index 3) rows.</p>
<p>To remove columns from a data frame,
use <code class="docutils literal notranslate"><span class="pre">.drop()</span></code> method with the <code class="docutils literal notranslate"><span class="pre">columns</span></code> option.
Here is the code to delete the column <code class="docutils literal notranslate"><span class="pre">level</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>team</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>2.0</td>
      <td>a</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.5</td>
      <td>1.0</td>
      <td>a</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>1.5</td>
      <td>a</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2.5</td>
      <td>2.0</td>
      <td>b</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3.0</td>
      <td>1.5</td>
      <td>b</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The result is a new data frame that no longer has the <code class="docutils literal notranslate"><span class="pre">level</span></code> column.
Note another way to obtain the same result
is by selecting the three columns
that we want to keep using the code <code class="docutils literal notranslate"><span class="pre">df[[&quot;x&quot;,</span> <span class="pre">&quot;y&quot;,</span> <span class="pre">&quot;team&quot;]]</span></code>.</p>
<p>Pandas also provides the methods <code class="docutils literal notranslate"><span class="pre">.dropna()</span></code> for removing rows with missing values
and <code class="docutils literal notranslate"><span class="pre">.drop_duplicates()</span></code> for removing rows that contain duplicate data.
We’ll learn more about these methods in the section on data cleaning below.</p>
<!-- Other related methods `.dropna()` for removing rows with missing values,
and `.drop_duplicates()` for removing rows that contain duplicate data. --></section>
<section id="renaming-columns-and-values">
<h3>Renaming columns and values<a class="headerlink" href="#renaming-columns-and-values" title="Link to this heading">#</a></h3>
<p>To change the column names of a data frame,
we can use the <code class="docutils literal notranslate"><span class="pre">.rename()</span></code> method and pass in to the <code class="docutils literal notranslate"><span class="pre">columns</span></code> argument
a Python dictionary of the replacements we want to make.
For example,
the code below renames the columns <code class="docutils literal notranslate"><span class="pre">team</span></code> and <code class="docutils literal notranslate"><span class="pre">level</span></code> to use uppercase letters.</p>
<!-- To rename the columns of a data frame, we can use the `.rename()` method
with the `columns` attribute set to a Python dictionary of the replacements we want to make. --><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;team&quot;</span><span class="p">:</span><span class="s2">&quot;TEAM&quot;</span><span class="p">,</span> <span class="s2">&quot;level&quot;</span><span class="p">:</span><span class="s2">&quot;LEVEL&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>TEAM</th>
      <th>LEVEL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>2.0</td>
      <td>a</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.5</td>
      <td>1.0</td>
      <td>a</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>1.5</td>
      <td>a</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2.5</td>
      <td>2.0</td>
      <td>b</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3.0</td>
      <td>1.5</td>
      <td>b</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The dictionary <code class="docutils literal notranslate"><span class="pre">{&quot;team&quot;:&quot;TEAM&quot;,</span> <span class="pre">&quot;level&quot;:&quot;LEVEL&quot;}</span></code> contains the <code class="docutils literal notranslate"><span class="pre">old:new</span></code> replacement pairs.</p>
<p>To rename the values in the data frame,
we can use the <code class="docutils literal notranslate"><span class="pre">.replace()</span></code> method,
passing in a Python dictionary of replacements we want to do on the values in each column.
For example,
here is the code for replacing the values in the <code class="docutils literal notranslate"><span class="pre">team</span></code> column to uppercase letters.</p>
<!-- To rename values, we can use the `replace` method,
passing in a dictionary of replacements we want to for each column. --><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">team_mapping</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span><span class="s2">&quot;B&quot;</span><span class="p">}</span>
<span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="s2">&quot;team&quot;</span><span class="p">:</span><span class="n">team_mapping</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>team</th>
      <th>level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>2.0</td>
      <td>A</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.5</td>
      <td>1.0</td>
      <td>A</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>1.5</td>
      <td>A</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2.5</td>
      <td>2.0</td>
      <td>B</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3.0</td>
      <td>1.5</td>
      <td>B</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The dictionary <code class="docutils literal notranslate"><span class="pre">{&quot;a&quot;:&quot;A&quot;,</span> <span class="pre">&quot;b&quot;:&quot;B&quot;}</span></code> contains the <code class="docutils literal notranslate"><span class="pre">old:new</span></code> replacement pairs,
similar to the dictionary we used above for renaming columns.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># # ALT. use str-methods to get uppercase letter</span>
<span class="c1"># df.assign(team = df[&quot;team&quot;].str.upper())</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="reshaping-data-frames">
<h3>Reshaping data frames<a class="headerlink" href="#reshaping-data-frames" title="Link to this heading">#</a></h3>
<!-- Robyn said: I think that this deserves more emphasis. Could we bring up long and wide format with tidy data, earlier on? -->
<p>One of the most common transformations we need to do with data frames,
is to convert them from “wide” format to “long” format.
Data tables in “wide” format contain multiple observations in each row,
with the column header indicating some property for the observations in each column.
The code example below shows a sample data frame with the viewership numbers for a television series.
The viewership numbers are organized by season (rows) and by episode (columns).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">views_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;season&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Season 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Season 2&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Episode 1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">],</span>
    <span class="s2">&quot;Episode 2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">20000</span><span class="p">],</span>
    <span class="s2">&quot;Episode 3&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3000</span><span class="p">,</span> <span class="mi">30000</span><span class="p">],</span>
<span class="p">}</span>
<span class="n">tvwide</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">views_data</span><span class="p">)</span>
<span class="n">tvwide</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>season</th>
      <th>Episode 1</th>
      <th>Episode 2</th>
      <th>Episode 3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Season 1</td>
      <td>1000</td>
      <td>2000</td>
      <td>3000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Season 2</td>
      <td>10000</td>
      <td>20000</td>
      <td>30000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>This organization is very common for data collected in spreadsheets,
since it’s easy for humans to interpret values based on the columns they appear in.</p>
<p>Data structured in “wide” format is useful for data entry and display purposes,
but it makes data selection, grouping, and filtering operations more complicated to perform.
Wide data is not a good shape for statistical analysis.
Instead,
we prefer all data to be in “long” format where each row corresponds to a single observation,
and each column corresponds to a single variable,
like the <code class="docutils literal notranslate"><span class="pre">minimal</span></code> dataset we discussed above.</p>
<p>The Pandas operation for converting “wide” data to “long” data is called <code class="docutils literal notranslate"><span class="pre">melt</span></code>,
in reference to melting a wide block of ice into a vertical stream of water.
The method <code class="docutils literal notranslate"><span class="pre">.melt()</span></code> requires several arguments
to specify how to treat each of the columns in the input data frame,
and the names we want to assign to the columns in the output data frame.
Let’s look at the code first,
and explain the meaning of the arguments after.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tvlong</span> <span class="o">=</span> <span class="n">tvwide</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;season&quot;</span><span class="p">],</span>
                     <span class="n">var_name</span><span class="o">=</span><span class="s2">&quot;episode&quot;</span><span class="p">,</span>
                     <span class="n">value_name</span><span class="o">=</span><span class="s2">&quot;views&quot;</span><span class="p">)</span>
<span class="n">tvlong</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>season</th>
      <th>episode</th>
      <th>views</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Season 1</td>
      <td>Episode 1</td>
      <td>1000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Season 2</td>
      <td>Episode 1</td>
      <td>10000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Season 1</td>
      <td>Episode 2</td>
      <td>2000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Season 2</td>
      <td>Episode 2</td>
      <td>20000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Season 1</td>
      <td>Episode 3</td>
      <td>3000</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Season 2</td>
      <td>Episode 3</td>
      <td>30000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<!-- TODO: improve this explanation -->
<p>The argument <code class="docutils literal notranslate"><span class="pre">id_vars</span></code> specifies a list of identifier variables,
which are the columns that already contains values for the whole row.
All other columns are treated as value variables that apply to the values in that column.
The arguments <code class="docutils literal notranslate"><span class="pre">var_name</span></code> and <code class="docutils literal notranslate"><span class="pre">value_name</span></code> determine the name of the variable and value columns
of the melted data frame.
The result <code class="docutils literal notranslate"><span class="pre">tvlong</span></code> has six rows,
one for each observation in the original data frame <code class="docutils literal notranslate"><span class="pre">tvwide</span></code>.
Each row corresponds to one episode of the TV show,
and each column corresponds to a different variable for that episode
(the season, the episode, and the number of views).
This means the data frame <code class="docutils literal notranslate"><span class="pre">tvlong</span></code> is in <em>tidy data</em> format.</p>
<section id="bonus-explainer-1-sort-after-melt">
<h4>BONUS EXPLAINER 1: SORT AFTER MELT<a class="headerlink" href="#bonus-explainer-1-sort-after-melt" title="Link to this heading">#</a></h4>
<p>The rows in the data frame <code class="docutils literal notranslate"><span class="pre">tvlong</span></code> appear out of order after the melt operation.
We can fix this using the <code class="docutils literal notranslate"><span class="pre">.sort_values()</span></code> method
and specifying the column names by which we want the data to be sorted.</p>
<!-- Let's see the same thing now but sorted by season then by episode: --><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tvlong</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;season&quot;</span><span class="p">,</span> <span class="s2">&quot;episode&quot;</span><span class="p">])</span> \
      <span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>season</th>
      <th>episode</th>
      <th>views</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Season 1</td>
      <td>Episode 1</td>
      <td>1000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Season 1</td>
      <td>Episode 2</td>
      <td>2000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Season 1</td>
      <td>Episode 3</td>
      <td>3000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Season 2</td>
      <td>Episode 1</td>
      <td>10000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Season 2</td>
      <td>Episode 2</td>
      <td>20000</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Season 2</td>
      <td>Episode 3</td>
      <td>30000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The data is now sorted by season first then by episode,
which is the natural order for this data.
The extra method <code class="docutils literal notranslate"><span class="pre">.reset_index()</span></code> is used to re-index the rows using the sequential numbering
according to the new sort order.</p>
</section>
<section id="bonus-explainer-2-undo-melt-with-pivot">
<h4>BONUS EXPLAINER 2: UNDO MELT WITH PIVOT<a class="headerlink" href="#bonus-explainer-2-undo-melt-with-pivot" title="Link to this heading">#</a></h4>
<p>The method for the opposite transformation (converting long data to wide data) is called <code class="docutils literal notranslate"><span class="pre">pivot</span></code> and works like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tvlong</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s2">&quot;season&quot;</span><span class="p">,</span>
             <span class="n">columns</span><span class="o">=</span><span class="s2">&quot;episode&quot;</span><span class="p">,</span>
             <span class="n">values</span><span class="o">=</span><span class="s2">&quot;views&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>episode</th>
      <th>Episode 1</th>
      <th>Episode 2</th>
      <th>Episode 3</th>
    </tr>
    <tr>
      <th>season</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Season 1</th>
      <td>1000</td>
      <td>2000</td>
      <td>3000</td>
    </tr>
    <tr>
      <th>Season 2</th>
      <td>10000</td>
      <td>20000</td>
      <td>30000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># # ALT. to get *exactly* the same data frame as `tvwide`</span>
<span class="c1"># tvlong.pivot(index=&quot;season&quot;,</span>
<span class="c1">#              columns=&quot;episode&quot;,</span>
<span class="c1">#              values=&quot;views&quot;) \</span>
<span class="c1">#        .reset_index() \</span>
<span class="c1">#        .rename_axis(columns=None)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="tidy-data">
<h3>Tidy data<a class="headerlink" href="#tidy-data" title="Link to this heading">#</a></h3>
<!-- Robyn said: Introduce tidy data sooner -->
<p>The concept of <em>tidy data</em> is a convention for structuring data sets that makes them easy to work with. A tidy dataset has the following characteristics:</p>
<ul class="simple">
<li><p>Each variable corresponds to a separate column.</p></li>
<li><p>Each observation corresponds to a separate row.</p></li>
<li><p>Each data cell contains a single value.</p></li>
</ul>
<p>This structure makes it easy to select arbitrary subsets of the data based on values of the variables,
and perform arbitrary transformations and aggregations.
Tidy data is also very useful for data visualizations.</p>
<p>TODO: examples of non-tidy data + explain what is the problem + how to fix it</p>
<blockquote>
<div><p>“Tidy datasets are all alike, but every messy dataset is messy in its own way.” —Hadley Wickham</p>
</div></blockquote>
<p>The Seaborn data visualization library works well with data in tidy format,
allowing you to plot the values from any column,
and using other columns as grouping variables.
We’ll make sure to convert all datasets into tidy format
to benefit from Seaborn visualizations.</p>
</section>
<section id="string-methods">
<h3>String methods<a class="headerlink" href="#string-methods" title="Link to this heading">#</a></h3>
<p>TODO .str namespace</p>
<p>The <code class="docutils literal notranslate"><span class="pre">.str</span></code> prefix can be used to access other string manipulation methods like
<code class="docutils literal notranslate"><span class="pre">.str.join()</span></code>, <code class="docutils literal notranslate"><span class="pre">.str.split()</span></code>, <code class="docutils literal notranslate"><span class="pre">.str.startswith()</span></code>, <code class="docutils literal notranslate"><span class="pre">.str.strip()</span></code>, etc.
Any operation we can perform on a Python string,
we can also perform the same operation on an entire Pandas series by calling the appropriate <code class="docutils literal notranslate"><span class="pre">str</span></code>-method.</p>
<p>Another transformation we might have to do is to split values that combine multiple variables.
For example,
medical records often contain the age and sex information as a single string <code class="docutils literal notranslate"><span class="pre">32F</span></code>,
which we would split into the variable <code class="docutils literal notranslate"><span class="pre">age</span></code> with value <code class="docutils literal notranslate"><span class="pre">32</span></code>
and the variable <code class="docutils literal notranslate"><span class="pre">sex</span></code> with value <code class="docutils literal notranslate"><span class="pre">F</span></code>.</p>
</section>
<section id="merging-data-frames">
<h3>Merging data frames<a class="headerlink" href="#merging-data-frames" title="Link to this heading">#</a></h3>
<p>TODO</p>
</section>
<section id="type-conversions">
<h3>Type conversions<a class="headerlink" href="#type-conversions" title="Link to this heading">#</a></h3>
<p>TODO <code class="docutils literal notranslate"><span class="pre">.astype</span></code></p>
</section>
<section id="dummy-coding-of-categorical-variables">
<h3>Dummy coding of categorical variables<a class="headerlink" href="#dummy-coding-of-categorical-variables" title="Link to this heading">#</a></h3>
<p>TODO</p>
<p>I hope you got a general idea of the transformations that exist.</p>
</section>
</section>
<section id="data-cleaning">
<h2>Data cleaning<a class="headerlink" href="#data-cleaning" title="Link to this heading">#</a></h2>
<p>Before a dataset can be used for statistical analysis,
we must often perform various pre-processing steps on the data
to ensure it is consistently formatted.
The term <em>data cleaning</em> describes various procedures for correcting various data problems
so that the statistical analysis procedures will not “choke” on it,
or lead to erroneous results.
Data cleaning procedures include detecting coding errors,
removing duplicate observations,
and fixing other inconsistencies in the data.</p>
<!-- TODO: mention wrong units for numerical variables, e.g. ft vs m vs cm --><section id="standardize-categorical-values">
<h3>Standardize categorical values<a class="headerlink" href="#standardize-categorical-values" title="Link to this heading">#</a></h3>
<p>A very common problem that occurs for categorical variables,
is the use of multiple codes to represent the same concept.
Consider the following series containing what-type-of-pet-is-it data in which “dog” is encoded using different values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pets</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="s2">&quot;Dog&quot;</span><span class="p">,</span> <span class="s2">&quot;doggo&quot;</span><span class="p">])</span>
<span class="n">pets</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0        D
1      dog
2      Dog
3    doggo
dtype: object
</pre></div>
</div>
</div>
</div>
<p>This type of inconsistent encoding will cause lots of trouble down the line.
For example,
performing a <code class="docutils literal notranslate"><span class="pre">.groupby()</span></code> operation on this variable will result in four different groups,
even though all these pets are dogs.</p>
<p>We can fix this encoding problem by standardizing on a single code for representing dogs
and replacing all other values with the standardized code,
as shown below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dogsubs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;D&quot;</span><span class="p">:</span><span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="s2">&quot;Dog&quot;</span><span class="p">:</span><span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="s2">&quot;doggo&quot;</span><span class="p">:</span><span class="s2">&quot;dog&quot;</span><span class="p">}</span>
<span class="n">pets</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">dogsubs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    dog
1    dog
2    dog
3    dog
dtype: object
</pre></div>
</div>
</div>
</div>
<p>The method <code class="docutils literal notranslate"><span class="pre">.value_counts()</span></code> is helpful for detecting coding errors and inconsistencies.
Looking at the counts of how many times each value occurs can help us notice exceptional values,
near-duplicates, and other problems with categorical variables.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pets</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">dogsubs</span><span class="p">)</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dog    4
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-2-cleaning-the-cats-data">
<h3>Exercise 2: cleaning the cats data<a class="headerlink" href="#exercise-2-cleaning-the-cats-data" title="Link to this heading">#</a></h3>
<p>Write the Pandas code required to
standardize all the cat labels to be <code class="docutils literal notranslate"><span class="pre">cat</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Instructions: clean the cat labels in the following series</span>
<span class="n">pets2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="s2">&quot;Cat&quot;</span><span class="p">,</span> <span class="s2">&quot;CAT&quot;</span><span class="p">])</span>
<span class="n">pets2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    cat
1    dog
2    Cat
3    CAT
dtype: object
</pre></div>
</div>
</div>
</div>
<p><a href="https://github.com/minireference/noBSstats/blob/main/tutorials/solutions/pandas/Exercise_2_clean-cats.py" target="_blank">Click for solution.</a></p>
<section id="number-formatting-errors">
<h4>Number formatting errors<a class="headerlink" href="#number-formatting-errors" title="Link to this heading">#</a></h4>
<!-- ALT. Coding errors -->
<p>The text string <code class="docutils literal notranslate"><span class="pre">&quot;1.2&quot;</span></code> corresponds to the number <span class="math notranslate nohighlight">\(1.2\)</span> (a <code class="docutils literal notranslate"><span class="pre">float</span></code>).
We can do the conversion from text string to floating point number as follows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">float</span><span class="p">(</span><span class="s2">&quot;1.2&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.2
</pre></div>
</div>
</div>
</div>
<p>When loading data,
Pandas will automatically recognize numerical expression like this and load them into columns of type <code class="docutils literal notranslate"><span class="pre">float</span></code> or <code class="docutils literal notranslate"><span class="pre">int</span></code>.</p>
<p>There are some common number formatting problems you need to watch out for.
Many languages use the comma is the decimal separator instead of a decimal point,
so the number 1.2 might be written as the text string <code class="docutils literal notranslate"><span class="pre">&quot;1,2&quot;</span></code>,
which cannot be recognized as a <code class="docutils literal notranslate"><span class="pre">float</span></code>.</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">float</span><span class="p">(</span><span class="s2">&quot;1,2&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ValueError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">80</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;1,2&quot;</span><span class="p">)</span>

<span class="ne">ValueError</span>: could not convert string to float: &#39;1,2&#39;
</pre></div>
</div>
</div>
</div>
<p>To fix this issue,
we replace the comma character in the string
with a period character as follows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;1,2&quot;</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;1.2&#39;
</pre></div>
</div>
</div>
</div>
<p>Another example of a problematic numeric value is <code class="docutils literal notranslate"><span class="pre">&quot;1.</span> <span class="pre">2&quot;</span></code>,
which is not a valid float because of the extra spaces.
We can fix this by getting rid of the space using <code class="docutils literal notranslate"><span class="pre">&quot;1.</span> <span class="pre">2&quot;.replace(&quot;</span> <span class="pre">&quot;,</span> <span class="pre">&quot;&quot;)</span></code>.</p>
<p>Let’s now learn how to perform this kind of string manipulations
when working with Pandas series and data frames.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rawns</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s2">&quot;1.2&quot;</span><span class="p">,</span> <span class="s2">&quot;1,2&quot;</span><span class="p">,</span> <span class="s2">&quot;1. 2&quot;</span><span class="p">])</span>
<span class="n">rawns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0     1.2
1     1,2
2    1. 2
dtype: object
</pre></div>
</div>
</div>
</div>
<p>The series <code class="docutils literal notranslate"><span class="pre">rawns</span></code> contains strings with correct and incorrect formatting.
Note the series <code class="docutils literal notranslate"><span class="pre">rawns</span></code> has <code class="docutils literal notranslate"><span class="pre">dtype</span></code> (data type) of <code class="docutils literal notranslate"><span class="pre">object</span></code>,
which is what Pandas uses for strings.</p>
<p>Let’s try to convert this series to a numeric values (<code class="docutils literal notranslate"><span class="pre">float</span></code>s).
We can do this by calling the method <code class="docutils literal notranslate"><span class="pre">.astype()</span></code> as shown below.</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># uncomment to see the ERROR</span>
<span class="c1"># rawns.astype(float)</span>
</pre></div>
</div>
</div>
</div>
<p>Calling the method <code class="docutils literal notranslate"><span class="pre">.astype(float)</span></code> is essentially the same as calling <code class="docutils literal notranslate"><span class="pre">float</span></code> on each of the values in the series,
so it shouldn’t be surprising that we see an exception since the string <code class="docutils literal notranslate"><span class="pre">&quot;1,2&quot;</span></code> is not a valid float.</p>
<p>We can perform the string replacements on the data series <code class="docutils literal notranslate"><span class="pre">rawns</span></code> using the “<code class="docutils literal notranslate"><span class="pre">str</span></code>-methods” as shown below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rawns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">)</span> \
     <span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> \
     <span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    1.2
1    1.2
2    1.2
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>After performing the replacements of commas to periods and removing unwanted spaces,
the method <code class="docutils literal notranslate"><span class="pre">.astype(float)</span></code> succeeds.</p>
<p>Note the method we used in the above example is <code class="docutils literal notranslate"><span class="pre">.str.replace()</span></code> and not <code class="docutils literal notranslate"><span class="pre">.replace()</span></code>.</p>
<p>Other types of data that might have format inconsistencies include dates, times, addresses, and postal codes.
We need to watch out when processing these types of data,
and make sure all the data is in a consistent format before starting the statistical analysis.</p>
<!-- Robyn said: Should we go more in-depth on time data? Seems widely applicable and often problematic. --><!-- TODO: work-in duplicates somewhere: Use the `.drop_duplicates()` method to remove duplicated rows. -->
<p>Use the <code class="docutils literal notranslate"><span class="pre">.drop_duplicates()</span></code> method to remove duplicated rows.</p>
</section>
</section>
<section id="dealing-with-missing-values">
<h3>Dealing with missing values<a class="headerlink" href="#dealing-with-missing-values" title="Link to this heading">#</a></h3>
<!-- Robyn said: Already referred to 'null values' under 'Data frame properties', maybe falsy values should be explained sooner -->
<p>Real-world datasets often contain missing values that can occur as part of the data collection process.
Missing values in Pandas are indicated with the special symbol <code class="docutils literal notranslate"><span class="pre">NaN</span></code> (Not a Number),
or sometimes using the symbol <code class="docutils literal notranslate"><span class="pre">&lt;NA&gt;</span></code> (Not Available).
In Python, the absence of a value corresponds to the value <code class="docutils literal notranslate"><span class="pre">None</span></code>.
The term <em>null value</em> is a synonym for missing value.</p>
<p>In order to show some examples of dealing with missing values,
let’s load the “raw” dataset located at <code class="docutils literal notranslate"><span class="pre">datasets/raw/minimal.csv</span></code>,
which has several “holes” in it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rawdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;datasets/raw/minimal.csv&quot;</span><span class="p">)</span>
<span class="n">rawdf</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>team</th>
      <th>level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>2.0</td>
      <td>a</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.5</td>
      <td>1.0</td>
      <td>a</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>1.5</td>
      <td>a</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.5</td>
      <td>1.5</td>
      <td>a</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2.5</td>
      <td>2.0</td>
      <td>b</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>3.0</td>
      <td>1.5</td>
      <td>b</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>11.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The data frame <code class="docutils literal notranslate"><span class="pre">rawdf</span></code> contains the same data we worked on previously,
and some additional rows with “problematic” values that we need to deal with.
Specifically,
the rows with index <code class="docutils literal notranslate"><span class="pre">3</span></code> is missing the <code class="docutils literal notranslate"><span class="pre">level</span></code> variable,
and row <code class="docutils literal notranslate"><span class="pre">6</span></code> is missing the values for the <code class="docutils literal notranslate"><span class="pre">y</span></code> and <code class="docutils literal notranslate"><span class="pre">team</span></code> variables.
The missing values are indicated by the <code class="docutils literal notranslate"><span class="pre">NaN</span></code> symbol,
which is a special <code class="docutils literal notranslate"><span class="pre">float</span></code> value that stands for Not a Number.</p>
<!-- You can obtain the value `NaN` by writing `float("NaN")`. -->
<p>Note the variable <code class="docutils literal notranslate"><span class="pre">level</span></code> has been converted to a <code class="docutils literal notranslate"><span class="pre">float</span></code> data type
in order to use the <code class="docutils literal notranslate"><span class="pre">NaN</span></code> for representing missing values.
This is because integers do not have a natural way to represent missing values.
Some datasets might use special codes like <code class="docutils literal notranslate"><span class="pre">999</span></code> or <code class="docutils literal notranslate"><span class="pre">-1</span></code> to indicate missing integer values.
You should use the <code class="docutils literal notranslate"><span class="pre">.replace()</span></code> method to change these values to <code class="docutils literal notranslate"><span class="pre">float(&quot;NaN&quot;)</span></code> or <code class="docutils literal notranslate"><span class="pre">pd.NA</span></code>
in order to avoid the special code being used in numeric calculations by mistake.</p>
<p>We can use the <code class="docutils literal notranslate"><span class="pre">.info()</span></code> method to get an idea of the number of missing values in a data frame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rawdf</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 7 entries, 0 to 6
Data columns (total 4 columns):
 #   Column  Non-Null Count  Dtype  
---  ------  --------------  -----  
 0   x       7 non-null      float64
 1   y       6 non-null      float64
 2   team    6 non-null      object 
 3   level   6 non-null      float64
dtypes: float64(3), object(1)
memory usage: 352.0+ bytes
</pre></div>
</div>
</div>
</div>
<p>The data frame has a total of 7 rows,
but the columns <code class="docutils literal notranslate"><span class="pre">level</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, and <code class="docutils literal notranslate"><span class="pre">team</span></code> have only 6 non-null values,
which tells us these columns contain one missing value each.</p>
<p>We can use the method <code class="docutils literal notranslate"><span class="pre">.isna()</span></code> to get a complete picture of all the values that are missing (not available).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rawdf</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>team</th>
      <th>level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>5</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>6</th>
      <td>False</td>
      <td>True</td>
      <td>True</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The locations in the above data frame that contain the value <code class="docutils literal notranslate"><span class="pre">True</span></code>
correspond to the missing values in the data frame <code class="docutils literal notranslate"><span class="pre">rawdf</span></code>.</p>
<p>We can summarize the information about missing values,
by computing the row-sum of the above data frame,
which tells us count of the missing values for each variable.</p>
<!-- TODO: Explain true == 1 and false == 0 --><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rawdf</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;rows&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x        0
y        1
team     1
level    1
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>We can also compute the column-sum to count the number of missing values in each row.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rawdf</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;columns&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    0
1    0
2    0
3    1
4    0
5    0
6    2
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># # ALT. convert to data types that have support &lt;NA&gt; values</span>
<span class="c1"># tmpdf = pd.read_csv(&quot;datasets/raw/minimal.csv&quot;)</span>
<span class="c1"># rawdf2 = tmpdf.convert_dtypes()</span>
<span class="c1"># rawdf2.dtypes</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">float</span><span class="p">(</span><span class="s2">&quot;NaN&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>nan
</pre></div>
</div>
</div>
</div>
<p>We can also compute <code class="docutils literal notranslate"><span class="pre">rawdf.isna().sum(axis=&quot;columns&quot;)</span></code> to get the count of missing values in each row.</p>
<p>The most common way of dealing with missing values is to exclude them from the dataset,
by dropping all rows that contain missing values.
The method <code class="docutils literal notranslate"><span class="pre">.dropna()</span></code> filters out any rows that contain null values and return a new “clean” data frame
with no <code class="docutils literal notranslate"><span class="pre">NaN</span></code>s.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cleandf</span> <span class="o">=</span> <span class="n">rawdf</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">cleandf</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>team</th>
      <th>level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>2.0</td>
      <td>a</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.5</td>
      <td>1.0</td>
      <td>a</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>1.5</td>
      <td>a</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2.5</td>
      <td>2.0</td>
      <td>b</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>3.0</td>
      <td>1.5</td>
      <td>b</td>
      <td>3.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We can provide arguments to the <code class="docutils literal notranslate"><span class="pre">.dropna()</span></code> method to give more specific instructions about which rows to drop.
For example,
missing values in one of the columns you don’t plan to use for a statistical analysis are not a problem.</p>
<p>Another approach for dealing with missing values is to use <em>imputation</em>,
which is the process of “filling in” values based on our “best guess” of the missing values.
Imputation is a tricky process since it involves changing the data,
which can affect any subsequent statistical analysis,
so we try to avoid it as much as possible.
The common approaches for filling in missing values include using the mean or median of the variable,
or guessing a missing value based on the neighbouring values.</p>
<!-- Robyn said: mean, median not defined yet -->
<!-- TODO: mention method names -->
<!-- TODO: example of filling in -->
<!-- Pandas nullable types and pd.NA → mention but no details & don't use --><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Recode level as integer</span>
<span class="n">cleandf</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;level&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cleandf</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">cleandf</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>team</th>
      <th>level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>2.0</td>
      <td>a</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.5</td>
      <td>1.0</td>
      <td>a</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>1.5</td>
      <td>a</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2.5</td>
      <td>2.0</td>
      <td>b</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>3.0</td>
      <td>1.5</td>
      <td>b</td>
      <td>3.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ALT. Convert the level column to `int`</span>
<span class="c1"># cleandf = cleandf.assign(level = cleandf[&quot;level&quot;].astype(int))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Confirm `cleandf` is the same as `df` we saw earlier</span>
<span class="c1"># cleandf.reset_index(drop=True).equals(df)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="identifying-and-removing-outliers">
<h3>Identifying and removing outliers<a class="headerlink" href="#identifying-and-removing-outliers" title="Link to this heading">#</a></h3>
<p>Outliers are data values that are much larger or much smaller than other values in the data.
Sometimes extreme observations can result from mistakes in the data collection process
like measurement instrument malfunctions,
data entry typos, or measurements of the wrong subject.
For example,
if we intend to study the weights of different dog breeds but somehow end up including a grizzly bear in the measurements.
These mistakes are usually identified when a measurement is obviously impossible.
For example,
if your dataset contains the value 600kg for a dog weight,
then you know this is probably a mistake.</p>
<p>Sometimes we can “correct” outlier values by replacing them with the correct measurement.
For example,
if the data was manually transcribed from a paper notebook,
we could find the notebook and see what the correct value is supposed to be.
Other times,
we can’t fix the mistake so we drop that observation.</p>
<!-- faulty observations  -->
<p>In any case,
it’s important for you to know if your data contains outliers
before you do any statistical analysis on this data,
otherwise the presence of outliers might “break” the statistical inference machinery,
and lead you to biased or erroneous results.</p>
<p>Let’s look at some example data that contains an outlier
and some procedures for identifying the outlier and filtering it out.
Consider the data sample <span class="math notranslate nohighlight">\(\mathbf{x} = [1,2,3,4,5,6,50]\)</span>,
which consists of seven values,
one of which is much much larger than the others.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="n">xs</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0     1
1     2
2     3
3     4
4     5
5     6
6    50
Name: x, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>We can easily see the value <code class="docutils literal notranslate"><span class="pre">50</span></code> is the outlier here,
but the task may not be so easy for larger datasets with hundreds or thousands of observations.</p>
<section id="why-outliers-are-problematic">
<h4>Why outliers are problematic<a class="headerlink" href="#why-outliers-are-problematic" title="Link to this heading">#</a></h4>
<p>Outliers can have undue leverage on the value of some statistics
and may lead to misleading analysis results if they are present.
Statistics like the mean, variance, and standard deviation
are affected by the presence of such exceptional values.
For example,
let’s compute the mean (average value)
and the standard deviation (dispersion from the mean)
the sample <span class="math notranslate nohighlight">\(\mathbf{x} = [1,2,3,4,5,6,50]\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xs</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">xs</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(10.142857142857142, 17.65812911408012)
</pre></div>
</div>
</div>
</div>
<p>These values are very misleading:
they give us the wrong impression about the centre of the data distribution and how spread out it is.
In reality,
the first six values are small numbers,
but the presence of the large outlier <span class="math notranslate nohighlight">\(50\)</span>
makes the mean and the standard deviation appear much larger.</p>
<p>If we remove the outlier <span class="math notranslate nohighlight">\(50\)</span>,
the mean of the standard deviation of the remaining values <span class="math notranslate nohighlight">\([1,2,3,4,5,6]\)</span> is much smaller.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xs</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">xs</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(3.5, 1.8708286933869707)
</pre></div>
</div>
</div>
</div>
<p>These summary statistics are much more representative of the data.
The mean value <span class="math notranslate nohighlight">\(3.5\)</span> is a good single-number description for the “centre” of the data points,
and the standard deviation of <span class="math notranslate nohighlight">\(1.87\)</span> also gives us a good idea of the dispersion of the data points.</p>
<p>Any subsequent statistical analyses we might perform with this data
will benefit from these more accurate summary statistics
we calculated after removing the outlier.</p>
<!-- Some statisticians argue that outliers should be excluded even if they aren't mistakes. They reason that because outliers skew results so drastically, those results won't be generalizable. --></section>
<section id="criteria-for-identifying-outliers">
<h4>Criteria for identifying outliers<a class="headerlink" href="#criteria-for-identifying-outliers" title="Link to this heading">#</a></h4>
<p>There are several criteria we can use to systematically identify outliers:</p>
<ul class="simple">
<li><p><strong>Visual inspection</strong> is probably the simplest way to detect outliers.
Simply plot the data as a strip plot or scatter plot,
and look for values that don’t seem to fit with the rest.</p></li>
<li><p>The <strong>Tukey criterion</strong> considers any value that is
more than <code class="docutils literal notranslate"><span class="pre">2.5*IQR</span></code> away from the outer quartiles of the data to be an outlier.
This is the criterion we used when drawing Tukey box-plots
in the notebook <a class="reference internal" href="../notebooks/13_descriptive_statistics.html"><span class="std std-doc">13_descriptive_statistics.ipynb</span></a>.</p></li>
<li><p>The <strong><span class="math notranslate nohighlight">\(z\)</span>-score criterion</strong> allows us to identify values that are very far away from the mean.</p></li>
</ul>
<p>We’ll now show how to apply these criteria to the data sample <code class="docutils literal notranslate"><span class="pre">xs</span></code>.</p>
<!-- https://www.itl.nist.gov/div898/handbook/eda/section3/eda35h.htm --></section>
<section id="visual-inspection-of-the-data">
<h4>Visual inspection of the data<a class="headerlink" href="#visual-inspection-of-the-data" title="Link to this heading">#</a></h4>
<p>A strip plot of the data sample <code class="docutils literal notranslate"><span class="pre">xs</span></code>
can help us simply “see” outliers if they are present.
Here is how to use the <code class="docutils literal notranslate"><span class="pre">stripplot</span></code> functions from Seaborn to plot the data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pylab</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>

<span class="k">with</span> <span class="n">plt</span><span class="o">.</span><span class="n">rc_context</span><span class="p">({</span><span class="s2">&quot;figure.figsize&quot;</span><span class="p">:(</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">)}):</span>
     <span class="n">sns</span><span class="o">.</span><span class="n">stripplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">xs</span><span class="p">,</span> <span class="n">jitter</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/231d9e110adb19a87706c6db24d4a20af68951859daebea59ef5d43d4ca33152.png" src="../_images/231d9e110adb19a87706c6db24d4a20af68951859daebea59ef5d43d4ca33152.png" />
</div>
</div>
</section>
<section id="tukey-outliers">
<h4>Tukey outliers<a class="headerlink" href="#tukey-outliers" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Q1</span><span class="p">,</span> <span class="n">Q3</span> <span class="o">=</span> <span class="n">xs</span><span class="o">.</span><span class="n">quantile</span><span class="p">([</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">])</span>
<span class="n">IQR</span> <span class="o">=</span> <span class="n">Q3</span> <span class="o">-</span> <span class="n">Q1</span>
<span class="n">xlim_low</span> <span class="o">=</span> <span class="n">Q1</span> <span class="o">-</span> <span class="mf">1.5</span><span class="o">*</span><span class="n">IQR</span>
<span class="n">xlim_high</span> <span class="o">=</span> <span class="n">Q3</span> <span class="o">+</span> <span class="mf">1.5</span><span class="o">*</span><span class="n">IQR</span>
<span class="p">(</span><span class="n">xlim_low</span><span class="p">,</span> <span class="n">xlim_high</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(-2.0, 10.0)
</pre></div>
</div>
</div>
</div>
<p>Applying the heuristics based on the quartiles of the data sample,
we obtain the criteria that any values outside the interval <span class="math notranslate nohighlight">\([-2,10]\)</span>
are to be counted as outliers.
In words,
values smaller than <span class="math notranslate nohighlight">\(-2\)</span> or greater than <span class="math notranslate nohighlight">\(10\)</span>
are to be considered as “unusual” for this data sample <span class="math notranslate nohighlight">\(\mathbf{x}\)</span>.</p>
<p>Let’s build a mask that identifies all values that fit these criteria.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tukey_outliers</span> <span class="o">=</span> <span class="p">(</span><span class="n">xs</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">xs</span> <span class="o">&gt;</span> <span class="mf">10.0</span><span class="p">)</span>
<span class="n">tukey_outliers</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    False
1    False
2    False
3    False
4    False
5    False
6     True
Name: x, dtype: bool
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">tukey_outliers</span></code> series has the same index as the data frame <code class="docutils literal notranslate"><span class="pre">df6</span></code>,
and tells us which rows in the data frame contain outliers.</p>
</section>
<section id="computing-z-scores">
<h4>Computing z-scores<a class="headerlink" href="#computing-z-scores" title="Link to this heading">#</a></h4>
<p>Given the list of values <span class="math notranslate nohighlight">\(\mathbf{x} = [x_1, x_2, \ldots, x_n]\)</span>,
we compute the <span class="math notranslate nohighlight">\(z\)</span>-scores of each value
<span class="math notranslate nohighlight">\(\mathbf{z} = [z_1, z_2, \ldots, z_n]\)</span>,
where each <span class="math notranslate nohighlight">\(z_i = \frac{x_i - \overline{\mathbf{x}}}{s_{\mathbf{x}}}\)</span>.</p>
<p>The <span class="math notranslate nohighlight">\(z\)</span>-scores of an observation tells you where this observation fits
within the data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xbar</span> <span class="o">=</span> <span class="n">xs</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">xstd</span> <span class="o">=</span> <span class="n">xs</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
<span class="n">zscores</span> <span class="o">=</span> <span class="p">(</span><span class="n">xs</span> <span class="o">-</span> <span class="n">xbar</span><span class="p">)</span> <span class="o">/</span> <span class="n">xstd</span>
<span class="n">zscores</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0   -0.517770
1   -0.461139
2   -0.404508
3   -0.347877
4   -0.291246
5   -0.234615
6    2.257155
Name: x, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>We can identify outliers by their unusually large <span class="math notranslate nohighlight">\(z\)</span>-scores.
For example,
we could check which values are more than two standard deviations away from the mean,
by selecting <span class="math notranslate nohighlight">\(z\)</span>-scores that are less than <span class="math notranslate nohighlight">\(-2\)</span> or greater than <span class="math notranslate nohighlight">\(2\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">zscore_outliers</span> <span class="o">=</span> <span class="p">(</span><span class="n">zscores</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">zscores</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">zscore_outliers</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    False
1    False
2    False
3    False
4    False
5    False
6     True
Name: x, dtype: bool
</pre></div>
</div>
</div>
</div>
<p>Let’s combine all these “verdicts” about the outlierness of the <code class="docutils literal notranslate"><span class="pre">xs</span></code>
and store them as the columns in the data frame <code class="docutils literal notranslate"><span class="pre">results</span></code>.</p>
<!-- Note the outlier definition consists of two conditions
combined with bitwise OR operator `|` (the "pipe" character on the English keyboard).--><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="n">xs</span><span class="p">,</span>
                        <span class="s2">&quot;tukey_outlier&quot;</span><span class="p">:</span> <span class="n">tukey_outliers</span><span class="p">,</span>
                        <span class="s2">&quot;zscore&quot;</span><span class="p">:</span> <span class="n">zscores</span><span class="p">,</span>
                        <span class="s2">&quot;zscore_outlier&quot;</span><span class="p">:</span> <span class="n">zscore_outliers</span><span class="p">})</span>
<span class="n">results</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>tukey_outlier</th>
      <th>zscore</th>
      <th>zscore_outlier</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>False</td>
      <td>-0.517770</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>False</td>
      <td>-0.461139</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>False</td>
      <td>-0.404508</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>False</td>
      <td>-0.347877</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>False</td>
      <td>-0.291246</td>
      <td>False</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>False</td>
      <td>-0.234615</td>
      <td>False</td>
    </tr>
    <tr>
      <th>6</th>
      <td>50</td>
      <td>True</td>
      <td>2.257155</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We see that both the Tukey method and the <span class="math notranslate nohighlight">\(z\)</span>-score method
have correctly identified <span class="math notranslate nohighlight">\(50\)</span> as an outlier.</p>
</section>
</section>
<section id="removing-outliers">
<h3>Removing outliers<a class="headerlink" href="#removing-outliers" title="Link to this heading">#</a></h3>
<p>We can use the <code class="docutils literal notranslate"><span class="pre">tukey_outliers</span></code> or <code class="docutils literal notranslate"><span class="pre">zscore_outliers</span></code> verdicts
to select only the subset of values that are not outliers.
For example,
we can invert the <code class="docutils literal notranslate"><span class="pre">tukey_outliers</span></code> mask
using the Python NOT operator <code class="docutils literal notranslate"><span class="pre">~</span></code>
to obtain a mask for all the values which are <em>not</em> outliers.</p>
<!-- The "not outliers" are the values we want to keep. The Python operator `~` is used for this. --><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">~</span><span class="n">tukey_outliers</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0     True
1     True
2     True
3     True
4     True
5     True
6    False
Name: x, dtype: bool
</pre></div>
</div>
</div>
</div>
<p>Using the <code class="docutils literal notranslate"><span class="pre">~outliers</span></code> mask allows us to select all the non-outliers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xs</span><span class="p">[</span><span class="o">~</span><span class="n">tukey_outliers</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    1
1    2
2    3
3    4
4    5
5    6
Name: x, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>We can assign this to a new variable and continue the statistical analysis
based on the subset of <code class="docutils literal notranslate"><span class="pre">xs</span></code> that excludes the problematic outlier.</p>
<section id="when-should-we-drop-outliers">
<h4>When should we drop outliers<a class="headerlink" href="#when-should-we-drop-outliers" title="Link to this heading">#</a></h4>
<p>Rejecting observations that are far outside the range of expected values
is the correct thing to do when these observations arise from data entry errors,
but that doesn’t mean we should always remove outliers to make our data look “nicer.”
We need to have a legitimate reason for removing outliers.</p>
<p>Outliers may indicate an unexpected phenomenon,
or a previously unsuspected variable that influences the measurement.
It would be a shame to just discard a potentially valuable finding.
Instead of rejecting these observations,
you could instead investigate the unusual cases more closely and look for an explanation.
A consultation with a subject-matter expert (SME)
would be a good idea before making the decision to exclude certain observations.</p>
<p>Alternatively,
you could use a statistical procedure that gives less weight to outliers,
or you could repeat the experiment to obtain a new dataset and compare your two sets of results.
Finally,
you could choose to report results both with and without outliers and let your audience decide.</p>
<!-- TODO: mention robust statistics + FWD reference? -->
<p>If you eliminate data points from your analyses (for any reason),
make sure to report this when reporting your results.</p>
<!--
Whatever strategy you prefer,
it's best to decide how you will deal with outliers *a priori*---before you collect your data.

The goal of certain statistics procedures like *anomaly detection* is precisely to identify outliers,
so you should definitely not remove them.

Outlier in n-dimensions: e.g. an univariate outlier might not be a bi- or multivariate outlier.
--></section>
</section>
<section id="summary-of-data-cleaning">
<h3>Summary of data cleaning<a class="headerlink" href="#summary-of-data-cleaning" title="Link to this heading">#</a></h3>
<p>The data “cleaning” steps we introduced in this section
are an essential prerequisite for any statistical analysis.
It’s important that you learn to perform these basic data manipulations
so that you’ll be able to work with messy, real-world datasets.
We’ve only scratched the surface of what is possible,
but I hope you got a general idea of the data cleaning steps you might need to do.</p>
<p>Data pre-processing is not something you can “outsource” or handoff to a colleague,
because it’s very informative to “touch” the data to get to know it.
If you only see data after it has been cleaned up by someone else,
then you’re missing a lot of the context,
and you were not included in some important decisions,
like dealing with missing values and outliers.</p>
<p>The <strong>Case Studies</strong> section later in this tutorial
shows some hands-on examples of data cleaning.
To give you a taste of the data cleaning tasks,
here are some exercises that ask you to clean-up
the raw data files in <code class="docutils literal notranslate"><span class="pre">datasets/raw/</span></code>
to obtain the same data as in <code class="docutils literal notranslate"><span class="pre">datasets/</span></code> folder.</p>
</section>
<section id="exercise-a">
<h3>Exercise A<a class="headerlink" href="#exercise-a" title="Link to this heading">#</a></h3>
<p>TODO</p>
</section>
</section>
<section id="data-sources">
<h2>Data sources<a class="headerlink" href="#data-sources" title="Link to this heading">#</a></h2>
<section id="data-extraction-get-our-hands-on-data">
<h3>Data extraction: get our hands on data<a class="headerlink" href="#data-extraction-get-our-hands-on-data" title="Link to this heading">#</a></h3>
<p>Real-world data is stored in all kinds of places,
and you often need to do an “extraction” phase to get your hands on the data.
You’ll have to deal with many different kinds of data sources at one point or another in your data career.
Here are the most common data sources you should know about:</p>
<!-- Robyn said: Consider cutting this list of data sources -->
<ul>
<li><p><strong>Local files.</strong>
The simplest kind of data file is the one you can “Save as,”
receive as an email attachment,
and open from your local file system.
Every file is described by a <em>file path</em> that specifies the location of the file in the local file system,
and a file <em>extension</em> like <code class="docutils literal notranslate"><span class="pre">.csv</span></code>, <code class="docutils literal notranslate"><span class="pre">.xlsx</span></code>, <code class="docutils literal notranslate"><span class="pre">.json</span></code>, <code class="docutils literal notranslate"><span class="pre">.xml</span></code>,
which tells you what kind of format the data is stored in.
More on data file formats below.</p></li>
<li><p><strong>Online files.</strong>
Files can be made available for download on the internet by placing them on a web server.
Web servers also work with paths.
The job of a web server is to respond to requests for different paths.
For example,
when your web browser makes a GET request for the path <code class="docutils literal notranslate"><span class="pre">/datasets/minimal.csv</span></code>
on the server <code class="docutils literal notranslate"><span class="pre">noBSstats.com</span></code>,
the web server software running on <code class="docutils literal notranslate"><span class="pre">noBSstats.com</span></code>
will respond by sending back the contents of the file.
The act of GETing a file from a remote host and saving it to the local file system is
usually accomplished using the “Save as” operation,
a terminal command line <code class="docutils literal notranslate"><span class="pre">wget</span> <span class="pre">https://noBSstats.com/datasets/minimal.csv</span></code>,
of a Python script <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">requests;</span> <span class="pre">response</span> <span class="pre">=</span> <span class="pre">requests.get(&quot;...&quot;);</span> <span class="pre">...</span></code>.</p>
<!-- TODO: finish this example ot make it a reference to some code block -->
</li>
<li><p><strong>Logs.</strong>
Many software systems generate log files as part of their normal operation.
For example,
every web server keeps a log of all the requests it has received,
which can be a very useful data source.</p>
<!-- Vanessa's dataset of website visitors was obtained by processing the logs of her web server. TODO: remind reader + pageref -->
</li>
<li><p><strong>Surveys.</strong>
Send out a survey of some sort and obtain the responses.
Every startup should be investing time to talk to their customers,
and user surveys play a big role in this.</p></li>
<li><p><strong>Databases.</strong>
Company operational data is stored in one or more databases.
Access to this data is essential for understanding any business.
The Structured Query Language (SQL) is the standard interface for accessing data in databases.
Steps:
(1) obtain access to the DB (server, username, and password),
(2) connect to the DB,
(3) run a DB query SELECT … FROM …,
(4) save the output to a CSV file.</p></li>
<li><p><strong>Websites.</strong>
Data can sometimes be found as tables in a webpage’s HTML markup code.
This data is usually displayed with the intention of being read by humans,
but it’s often useful to extract the tabular data.</p>
<!-- TODO: plug read_html -->
</li>
<li><p><strong>APIs.</strong>
An <em>application programming interface</em> (API) is a standard way for computers to exchange data.
Data obtained from APIs is intended for machine use.
You can think of APIs as websites that allow fine-grained control of the data you’re requesting,
and a well-defined format for the response data.</p>
<!-- Common data formats used for API responses are JSON and XML. -->
<!-- TODO mention Getting data from APIs can be done via requests + json processing (examples using github API?) -->
</li>
<li><p><strong>Data repositories.</strong>
Existing datasets on specialized web servers for hosting data.
A data repository will allow you to download datasets in the usual formats CSV, spreadsheet, etc.
but also has additional description of the data (metadata).
Examples of data repositories include,
government data repositories,
open science repositories like OSF, Zenodo, etc.</p>
<!-- TODO: finish this with better examples -->
</li>
<li><p><strong>Published plots and graphs.</strong>
Using tools like <a class="reference external" href="https://www.graphreader.com/"><code class="docutils literal notranslate"><span class="pre">graphreader.com</span></code></a>,
you can sometimes read data points from graphs in published research papers.</p></li>
<li><p><strong>Research datasets.</strong>
Ask researchers to provide you with raw data files from any research paper.
You can expect mixed responses,
but it doesn’t hurt to ask.</p></li>
<li><p><strong>SQL files.</strong>
Structured Query Language is the standard format used to represent data in databases.
A <em>database dump</em> files contain the complete instructions for recreating a database and all the contents in it.
TODO: mention not meant to work directly – but load into DB then query to extract CSV.</p></li>
</ul>
</section>
<section id="data-formats">
<h3>Data formats<a class="headerlink" href="#data-formats" title="Link to this heading">#</a></h3>
<!-- ALT. Data file formats -->
<p>Data files can be encoded in one of several data formats:
CSV files, TSV files, spreadsheets, JSON files, HTML files, SQLite database files, etc.
We’ll now show examples of the Pandas code for loading data from various file formats,
which are the most common data formats seen “in the wild.”</p>
<!-- Robyn said: Move formats to appendix? Consider condensing into a table instead with columns: - snippet of what the data looks like, - name of the format - method to read it in python -->
<!-- CUT SINCE NOT COVERING ALL FORMATS ANYMORE
all of the above source formats.
You can find all the source data files in the `datasets/formats/` directory.
We'll use the function `head` to print the first few lines of the data files so you'll get a feeling for how the data is structured,
then show the appropriate Pandas function for loading data in this format.
The actual data we'll be loading in will be the same in each case,
it's just encoded in a different source format,
but after loading the data into Pandas,
all the different formats will end up as identical data frame objects. -->
<p><strong>Content warning:</strong> In the next few pages, acronyms like SQL, TSV, and JSON will be thrown at you.
I know you’re thinking “wow that escalated quickly,”
but we have to get a bit technical to make the knowledge actually useful.</p>
<!-- If we're going to talk about data, then let's make it real.
Let's go get the data wherever it may be:
in Excel files, in text files, in databases, in scientific experiment logbooks, everywhere! --></section>
<section id="csv-files">
<h3>CSV files<a class="headerlink" href="#csv-files" title="Link to this heading">#</a></h3>
<p>The initialism CSV stands for Comma-Separated-Values and is a widespread file format for tabular data.
CSV files consist of plain text values separated by commas.
The first line of a CSV file usually contains the variable names (it is called the header row).
Comma-Separated-Values files are the most common file format for tabular data that you are likely to encounter.
You can load CSV data using the function <code class="docutils literal notranslate"><span class="pre">pd.read_csv(&lt;path&gt;)</span></code>,
where <code class="docutils literal notranslate"><span class="pre">&lt;path&gt;</span></code> is the location of the CSV file.</p>
<p>Let’s see the “raw contents” of the data file <code class="docutils literal notranslate"><span class="pre">datasets/minimal.csv</span></code>
as you would see if you opened it with a basic text editor like (e.g. Notepad in Windows or TextEdit on a Mac).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">team</span><span class="p">,</span><span class="n">level</span>
    <span class="mf">1.0</span><span class="p">,</span><span class="mf">2.0</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="mi">3</span>
    <span class="mf">1.5</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="mi">2</span>
    <span class="mf">2.0</span><span class="p">,</span><span class="mf">1.5</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="mi">1</span>
    <span class="mf">2.5</span><span class="p">,</span><span class="mf">2.0</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="mi">3</span>
    <span class="mf">3.0</span><span class="p">,</span><span class="mf">1.5</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="mi">3</span>
</pre></div>
</div>
<p>Note the first line of this file is a “header row” that contains the column names,
while the remaining rows contain the actual data for the observations.</p>
<!-- Comma-Separated-Values are the most common format for tabular data.
CSV files are regular text files that contain individual values (numeric or text) separated by commas. In many CSV files, the first line is a special header row that contains the names of the variables. --><p>Here is the code for loading a CSV file <code class="docutils literal notranslate"><span class="pre">datasets/minimal.csv</span></code>
and showing the resulting data frame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;datasets/minimal.csv&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>     x    y team  level
0  1.0  2.0    a      3
1  1.5  1.0    a      2
2  2.0  1.5    a      1
3  2.5  2.0    b      3
4  3.0  1.5    b      3
</pre></div>
</div>
</div>
</div>
</section>
<section id="other-data-formats">
<h3>Other data formats<a class="headerlink" href="#other-data-formats" title="Link to this heading">#</a></h3>
<section id="spreadsheets-files">
<h4>Spreadsheets files<a class="headerlink" href="#spreadsheets-files" title="Link to this heading">#</a></h4>
<p>Spreadsheet software like LibreOffice Calc, Microsoft Excel, and Google Sheets
can be used to edit spreadsheet files with extensions like <code class="docutils literal notranslate"><span class="pre">.ods</span></code>, <code class="docutils literal notranslate"><span class="pre">.xlsx</span></code>, and <code class="docutils literal notranslate"><span class="pre">.xls</span></code>.
We can load data from spreadsheet files using the function <code class="docutils literal notranslate"><span class="pre">pd.read_excel()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">pip</span> install -q odfpy
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> A new release of pip is available: <span class=" -Color -Color-Red">25.2</span> -&gt; <span class=" -Color -Color-Green">25.3</span>
<span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> To update, run: <span class=" -Color -Color-Green">pip install --upgrade pip</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">odsdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s2">&quot;datasets/formats/minimal.ods&quot;</span><span class="p">,</span>
                      <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;Sheet1&quot;</span><span class="p">)</span>
<span class="n">odsdf</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">pip</span> install -q openpyxl
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> A new release of pip is available: <span class=" -Color -Color-Red">25.2</span> -&gt; <span class=" -Color -Color-Green">25.3</span>
<span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> To update, run: <span class=" -Color -Color-Green">pip install --upgrade pip</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xlsxdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s2">&quot;datasets/formats/minimal.xlsx&quot;</span><span class="p">,</span>
                       <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;Sheet1&quot;</span><span class="p">)</span>
<span class="n">xlsxdf</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
</section>
<section id="tsv">
<h4>TSV<a class="headerlink" href="#tsv" title="Link to this heading">#</a></h4>
<p>The Tab-Separated-Values format is similar to CSV, but uses TAB characters as separators.
TAB is a special character used for aligning text into columns,
an it is represented as <code class="docutils literal notranslate"><span class="pre">\t</span></code> in Python strings.
Here is the contents of the data file <code class="docutils literal notranslate"><span class="pre">datasets/formats/minimal.tsv</span></code>.</p>
<div class="highlight-TSV notranslate"><div class="highlight"><pre><span></span>x       y       team    level
1.0     2.0     a       3
1.5     1.0     a       2
2.0     1.5     a       1
2.5     2.0     b       3
3.0     1.5     b       3
</pre></div>
</div>
<!-- TODO: say TAB keypress means move-one-colum-to-the-right inside tables (like spreadsheet software) --><p>We load TSV files using the function <code class="docutils literal notranslate"><span class="pre">pd.read_csv</span></code>
by passing the value <code class="docutils literal notranslate"><span class="pre">&quot;\t&quot;</span></code> to the <code class="docutils literal notranslate"><span class="pre">sep</span></code> (separator) argument:
<code class="docutils literal notranslate"><span class="pre">pd.read_csv(&lt;path&gt;,</span> <span class="pre">sep=&quot;\t&quot;)</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tsvdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;datasets/formats/minimal.tsv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">tsvdf</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>team</th>
      <th>level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>2.0</td>
      <td>a</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.5</td>
      <td>1.0</td>
      <td>a</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>1.5</td>
      <td>a</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2.5</td>
      <td>2.0</td>
      <td>b</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3.0</td>
      <td>1.5</td>
      <td>b</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tsvdf</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
</section>
<section id="json">
<h4>JSON<a class="headerlink" href="#json" title="Link to this heading">#</a></h4>
<p>The acronym JSON stands for JavaScript Object Notation,
and it is one of the most common data format by web applications and APIs.
The JSON data format is similar to Python’s notation for <code class="docutils literal notranslate"><span class="pre">list</span></code>s (square brackets <code class="docutils literal notranslate"><span class="pre">[...]</span></code>),
and <code class="docutils literal notranslate"><span class="pre">dict</span></code>s (curly braces <code class="docutils literal notranslate"><span class="pre">{...}</span></code> containing key:value pairs).
Here are the contents of the data file <code class="docutils literal notranslate"><span class="pre">datasets/formats/minimal.json</span></code>.</p>
<div class="highlight-JSON notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
<span class="w">  </span><span class="p">{</span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mf">2.0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;team&quot;</span><span class="p">:</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;level&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mf">1.5</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;team&quot;</span><span class="p">:</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;level&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mf">2.0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mf">1.5</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;team&quot;</span><span class="p">:</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;level&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mf">2.5</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mf">2.0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;team&quot;</span><span class="p">:</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;level&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="mf">3.0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mf">1.5</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;team&quot;</span><span class="p">:</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;level&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Pandas provides the function <code class="docutils literal notranslate"><span class="pre">pd.read_json()</span></code> for loading JSON data.
If the contents of the JSON file is a list of observation,
we can load JSON files directly into a data frame using the function <code class="docutils literal notranslate"><span class="pre">pd.read_json()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">jsondf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s2">&quot;datasets/formats/minimal.json&quot;</span><span class="p">)</span>
<span class="n">jsondf</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<!-- TODO: plug `pd.json_normalize` https://pandas.pydata.org/docs/reference/api/pandas.json_normalize.html via https://towardsdatascience.com/all-pandas-json-normalize-you-should-know-for-flattening-json-13eae1dfb7dd -->
<p>If the JSON source data file has a structure that is more complicated than a list-of-observations,
we can try calling the function <code class="docutils literal notranslate"><span class="pre">pd.json_normalize</span></code>,
which will try to auto-guess the structure of the JSON data.
In the general case,
importing JSON data might require using the Python module <code class="docutils literal notranslate"><span class="pre">json</span></code> to load the data into Python data structures
and carry out processing steps to extract the desired subset of the data you’re interested in and organizing it
into the list-of-observation format that Pandas expects.</p>
</section>
<section id="html-tables">
<h4>HTML tables<a class="headerlink" href="#html-tables" title="Link to this heading">#</a></h4>
<p>The HyperText Markup Language format is used by all the web pages you access on the web.
The HTML source code of a webpage can include tabular data (the <code class="docutils literal notranslate"><span class="pre">&lt;table&gt;</span></code> tag in the HTML source code).
Here are the first few lines of the HTML file <code class="docutils literal notranslate"><span class="pre">datasets/formats/minimal.html</span></code>.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">table</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">thead</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>x<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>y<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>team<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>level<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">thead</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">tbody</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>1.0<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>2.0<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>a<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>3<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>We can load the data from HTML files using the function <code class="docutils literal notranslate"><span class="pre">pd.read_html()</span></code>,
which returns a list of data frames extracted from the tables found in a HTML document.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">pip</span> install -q lxml
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> A new release of pip is available: <span class=" -Color -Color-Red">25.2</span> -&gt; <span class=" -Color -Color-Green">25.3</span>
<span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> To update, run: <span class=" -Color -Color-Green">pip install --upgrade pip</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tables</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="s2">&quot;datasets/formats/minimal.html&quot;</span><span class="p">)</span>
<span class="n">htmldf</span> <span class="o">=</span> <span class="n">tables</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">htmldf</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">htmldf</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>team</th>
      <th>level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>2.0</td>
      <td>a</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.5</td>
      <td>1.0</td>
      <td>a</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>1.5</td>
      <td>a</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2.5</td>
      <td>2.0</td>
      <td>b</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3.0</td>
      <td>1.5</td>
      <td>b</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="xml">
<h4>XML<a class="headerlink" href="#xml" title="Link to this heading">#</a></h4>
<p>The eXtensible Markup Language format is used by many structured data formats and APIs.
Here are the first few lines of the XML data file <code class="docutils literal notranslate"><span class="pre">datasets/formats/minimal.xml</span></code>.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;</span>
<span class="nt">&lt;players&gt;</span>
<span class="w">  </span><span class="nt">&lt;player&gt;</span>
<span class="w">    </span><span class="nt">&lt;x&gt;</span>1.0<span class="nt">&lt;/x&gt;</span>
<span class="w">    </span><span class="nt">&lt;y&gt;</span>2.0<span class="nt">&lt;/y&gt;</span>
<span class="w">    </span><span class="nt">&lt;team&gt;</span>a<span class="nt">&lt;/team&gt;</span>
<span class="w">    </span><span class="nt">&lt;level&gt;</span>3<span class="nt">&lt;/level&gt;</span>
<span class="w">  </span><span class="nt">&lt;/player&gt;</span>
</pre></div>
</div>
<p>We use the function <code class="docutils literal notranslate"><span class="pre">pd.read_xml()</span></code> to load XML data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xmldf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_xml</span><span class="p">(</span><span class="s2">&quot;datasets/formats/minimal.xml&quot;</span><span class="p">)</span>
<span class="n">xmldf</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>The Python libraries <code class="docutils literal notranslate"><span class="pre">lxml</span></code> or <code class="docutils literal notranslate"><span class="pre">BeautifulSoup</span></code> can be used
for more advanced XML parsing and data processing steps (out of scope).</p>
</section>
<section id="sqlite-databases">
<h4>SQLite databases<a class="headerlink" href="#sqlite-databases" title="Link to this heading">#</a></h4>
<p>SQLite is a commonly used data format for storing a complete database as a single file.
Pandas provides the generic functions <code class="docutils literal notranslate"><span class="pre">pd.read_sql_table()</span></code> and <code class="docutils literal notranslate"><span class="pre">pd.read_sql_query()</span></code> for extracting data from databases,
and we can use these functions to “connect” to the SQLite database file
and read the data stored in one or more database tables in the SQLite database file.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">pip</span> install -q sqlalchemy
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> A new release of pip is available: <span class=" -Color -Color-Red">25.2</span> -&gt; <span class=" -Color -Color-Green">25.3</span>
<span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> To update, run: <span class=" -Color -Color-Green">pip install --upgrade pip</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_engine</span>
<span class="n">dbpath</span> <span class="o">=</span> <span class="s2">&quot;datasets/formats/minimal.sqlite&quot;</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s2">&quot;sqlite:///&quot;</span> <span class="o">+</span> <span class="n">dbpath</span><span class="p">)</span>
<span class="k">with</span> <span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
    <span class="n">sqldf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql_table</span><span class="p">(</span><span class="s2">&quot;players&quot;</span><span class="p">,</span> <span class="n">con</span><span class="o">=</span><span class="n">conn</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">sqldf</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">df</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;SELECT x, y, team, level FROM players;&quot;</span>
<span class="n">sqldf2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql_query</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">con</span><span class="o">=</span><span class="n">engine</span><span class="p">)</span>
<span class="n">sqldf2</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>The key to remember when dealing with various source files,
is that you your goal is to get the data in whatever “shape” it is in,
and save it as a Pandas data frame.
Do not try to restructure or modify the data in its source format,
you can do the data transformation and cleaning steps once you have it in the Pandas data frame,
like we saw in the <strong>Data Cleaning</strong> section.</p>
</section>
</section>
</section>
<section id="case-studies">
<h2>Case studies<a class="headerlink" href="#case-studies" title="Link to this heading">#</a></h2>
<p>We’ll now describe how datasets used in the book were obtained:
Vanessa’s website visitors,
Bob’s electricity prices,
and Charlotte’s student scores,
as well as the apples, kombucha, doctors, etc.
We were not involved in the data collection process for these datasets,
but it’s still worth asking the clients (Vanessa, Bob, Charlotte, etc.)
about the steps they followed to obtain the data.
There is an unspoken rule in statistics
that <strong>the more you know about the data,
the better you’ll be able to do the statistical analysis on it</strong>.</p>
<p>The goal is to just show some examples of real-world data collection and cleanup steps,
so you’ll know what to expect when working on your own datasets.
We’ll present the backstory for each dataset as an informal conversation.</p>
<!-- OLD = Background stories for the example datasets -->
<section id="collecting-the-apples-dataset">
<h3>Collecting the apples dataset<a class="headerlink" href="#collecting-the-apples-dataset" title="Link to this heading">#</a></h3>
<p>Alice’s orchard</p>
<p>TODO: import from .tex</p>
</section>
<section id="collecting-the-electricity-prices-dataset">
<h3>Collecting the electricity prices dataset<a class="headerlink" href="#collecting-the-electricity-prices-dataset" title="Link to this heading">#</a></h3>
<p>A few days later,
you call up Bob to ask him about how he collected the electricity prices dataset <code class="docutils literal notranslate"><span class="pre">eprices.csv</span></code>.
He tells you he obtained the electricity pricing data by scraping the pages from a local price-comparison website.
This website contained the electricity prices for various charging stations in the form of an HTML table.
He used the function <code class="docutils literal notranslate"><span class="pre">pd.read_html()</span></code> to extract the prices for each station
and categorized the stations based on their location in the East and West parts of the city.</p>
<!-- TODO: in notebook, JOIN data from individual stations + prices -->
<p>Listening to the explanations,
you wonder about the possible bias that might exist in the electricity prices that Bob collected,
so you decide to ask him about it.</p>
<p>“Bob, tell me more about this website. Which charging stations are listed there?” you ask.</p>
<p>“It’s a volunteer-run effort. People post the price they paid every day,
so it includes a wide selection of the stations.
There were several pages of results,
and each page has 20 prices,
so I think I had the data from most of the stations” he says.</p>
<p>“Ah OK, cool. It seems it’s a pretty good sample,” you say.
“I was worried it might be a commercial website that only shows the prices from ‘preferred’ stations.”</p>
<!-- Robyn said: Potential issues with the data Repeated measure on the same stations: without accounting for it, people voluntarily posting the price they paid, not selected at random TODO: fix this -->
<p>You’re reassured you have a representative sample of the prices,
so you’ll be able to study the question
“Which part of the city has cheaper electricity prices?”
since you have the data from a reasonable number of charging stations.</p>
<p>You load up Bob’s dataset <code class="docutils literal notranslate"><span class="pre">datasets/epriceswide.csv</span></code>
and print the first few rows to see how the dataset is structured.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">epriceswide</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;datasets/epriceswide.csv&quot;</span><span class="p">)</span>
<span class="n">epriceswide</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>East</th>
      <th>West</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>7.7</td>
      <td>11.8</td>
    </tr>
    <tr>
      <th>1</th>
      <td>5.9</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>7.0</td>
      <td>11.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.8</td>
      <td>8.6</td>
    </tr>
    <tr>
      <th>4</th>
      <td>6.3</td>
      <td>8.3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>It seems Bob stored the data in “wide format,”
with the prices from charging stations in the East in one column,
and the prices from the charging stations in the West in another column.
In other words,
knowing if a given price is in the East or West is encoded in its column position.
You’re can use the <code class="docutils literal notranslate"><span class="pre">.melt()</span></code> method to convert wide data into long data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">eprices</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;datasets/eprices.csv&quot;</span><span class="p">)</span>
<span class="n">eprices</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>loc</th>
      <th>price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>East</td>
      <td>7.7</td>
    </tr>
    <tr>
      <th>1</th>
      <td>East</td>
      <td>5.9</td>
    </tr>
    <tr>
      <th>2</th>
      <td>East</td>
      <td>7.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>East</td>
      <td>4.8</td>
    </tr>
    <tr>
      <th>4</th>
      <td>East</td>
      <td>6.3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>You’re confident you know what you’ll need to do from here.</p>
<p>“Okay Bob. Thanks for the info.” you say to him.
“I think I have everything I need to do the statistical analysis,
and I’ll get back to you soon with the results.”</p>
<!-- 

"Cool!
Thanks for agreeing to provide 'stats support' on this.
I'm looking forward to seeing the results."


Do you know what type of statistical analysis you'll use for this data set?"
he asks.

Bob is asking a really good question.
Depending on the data we have,
there are several types of statistical analysis recipes we can use.
In this case,
we're trying to compare the means of two groups of numerical variables.
In order to describe the variability in the data,
we'll also measure the standard deviation for the two groups.
Based on these statistics computed from the observed data,
we'll be able to make conclusions about the general population (all electricity prices).
Our final goal is to tell Bob conclusively if there is a difference between East and West prices,
and if there is a difference which side of his city has the cheaper prices.

You recently did an analysis of a similar dataset
where you compared the means of two groups,
so you have a clear plan for what you're going to do.

"My plan is to compute the mean and the standard deviation for the East and West prices,
then compare the means to see if there is a difference.
If there is a difference between the means,
I'll run a statistical test to see if the observed difference is statistically significant,"
you explain.

"Wow, sounds complicated!" exclaims Bob,
mystified by the technical jargon.

You reassure him there is nothing too complicated and statistical testing is just a fancy way
to compare means obtained from two groups
and determine if the observed difference in the means could have occurred by chance.
You clearly see he's interested to learn more about how statistical tests work,
but you know this is not the moment to explain everything.
There is a whole book ahead of us for this.

-->
<!-- 
In Chapter 2 we'll learn to use probability theory to model data distributions,
then in Chapter 3 develop tools for estimating parameters from data samples
and using statistical hypothesis testing procedures.
Let's not rush into things.
Easy does it. -->
<!-- TODO: future conversational --- Bob asks why we used the normality assumption, response \"funny you asked this, I also ran the nonparametric Signed Rank test\...\" -->
</section>
<section id="collecting-the-students-dataset">
<h3>Collecting the students dataset<a class="headerlink" href="#collecting-the-students-dataset" title="Link to this heading">#</a></h3>
<p>Charlotte is a bit of a techie,
so she set up a learning management system (LMS) server for the students in her class.
Charlotte learned how to do this (run web applications on her own server) after suffering months of difficulties
of trying to upload her teaching materials to the platform provided by her school.
She reasoned that it can’t be this hard to run her own server:
it’s just documents, video lectures, and exercises,
and there is plenty of software that can do this.</p>
<p>Charlotte’s main reason for running her own server is because
she didn’t feel comfortable with the idea of her students’ learning process being monitored by a proprietary learning platform.
You’re excited to talk to her,
because it’s nice to meet a teacher who cares deeply about student data privacy.</p>
<p>The LMS Charlotte used for this class stores student records in a database.
She made some Structured Query Language (SQL) queries using the function <code class="docutils literal notranslate"><span class="pre">pd.read_sql_query()</span></code>
to obtain detailed logs of each students’ actions on the platform.
She then aggregated the total <code class="docutils literal notranslate"><span class="pre">effort</span></code> (total time spend on the platform)
and the combined <code class="docutils literal notranslate"><span class="pre">score</span></code> for each student.
She transported the data as a CSV to her laptop,
then send it to you.</p>
<p>Using the function <code class="docutils literal notranslate"><span class="pre">pd.read_csv</span></code>,
you can load the <code class="docutils literal notranslate"><span class="pre">students.csv</span></code> dataset and print the first few rows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">students</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;datasets/students.csv&quot;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="s2">&quot;student_ID&quot;</span><span class="p">)</span>
<span class="n">students</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>background</th>
      <th>curriculum</th>
      <th>effort</th>
      <th>score</th>
    </tr>
    <tr>
      <th>student_ID</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>arts</td>
      <td>debate</td>
      <td>10.96</td>
      <td>75.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>science</td>
      <td>lecture</td>
      <td>8.69</td>
      <td>75.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>arts</td>
      <td>debate</td>
      <td>8.60</td>
      <td>67.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>arts</td>
      <td>lecture</td>
      <td>7.92</td>
      <td>70.3</td>
    </tr>
    <tr>
      <th>5</th>
      <td>science</td>
      <td>debate</td>
      <td>9.90</td>
      <td>76.1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="o">&lt;</span><span class="n">which</span> <span class="n">variables</span><span class="o">&gt;</span> <span class="n">FROM</span> <span class="o">&lt;</span><span class="n">which</span> <span class="n">table</span><span class="o">&gt;</span><span class="p">;</span>
<span class="n">SELECT</span> <span class="o">&lt;</span><span class="n">which</span> <span class="n">variables</span><span class="o">&gt;</span> <span class="n">FROM</span> <span class="o">&lt;</span><span class="n">which</span> <span class="n">table</span><span class="o">&gt;</span> <span class="n">WHERE</span> <span class="o">&lt;</span><span class="n">conditions</span><span class="o">&gt;</span><span class="p">;</span>

<span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> 
<span class="n">SELECT</span> <span class="n">student_id</span><span class="p">,</span> <span class="n">time_on_task</span> <span class="n">FROM</span> <span class="n">learner_analytics</span><span class="p">;</span>
<span class="n">SELECT</span> <span class="n">student_id</span><span class="p">,</span> <span class="n">scrore</span> <span class="n">FROM</span> <span class="n">student_final_grades</span><span class="p">;</span>

<span class="n">AGGREGATE</span> <span class="n">total</span> <span class="n">effort</span>
<span class="n">JOIN</span> <span class="n">effort</span> <span class="ow">and</span> <span class="n">score</span> <span class="n">tables</span>
</pre></div>
</div>
<p>You go through the column names to confirm that you understand the meaning of the categorical variables
(see page )
and you know how all the numerical variables were calculated.</p>
<p>You wonder how she calculated the <code class="docutils literal notranslate"><span class="pre">effort</span></code> and <code class="docutils literal notranslate"><span class="pre">score</span></code> variables.
She explains she computed the <code class="docutils literal notranslate"><span class="pre">effort</span></code> variable from the total time spent learning,
which includes watching videos and doing exercises.
She computed the <code class="docutils literal notranslate"><span class="pre">score</span></code> variable as the average success rate on all exercises that the student completed.</p>
<p>“Okay, thanks Charlotte,” you say, “the dataset looks great!”</p>
<!-- 
Let me just confirm the two questions you're interested in."

"Right. So the first question is whether the curriculum choice (`lecture` vs.`debate`) makes a difference in students `score`s.
And the second question is if students who made more effort in the course got a higher score."

The first question is similar to the electricity prices comparison (comparison between the means in two groups),
so you know exactly how to proceed for this one.
The second question is about a relation between two numerical variables,
which you can study by using linear regression to model how `score` variable increases (or decreases)
for different values of the `effort` variable.

"Thanks for going over all this with me," you say.
"I know exactly how to proceed from here."

"You're welcome, and looking forward to discussing the results with you when they are ready,"
says Charlotte as you say goodbye.

-->
<!-- Charlotte obtained the educational.csv data directly from her school's learning management system (LMS) database (DB). Each student has associated activity logs (time spent learning and solving problems) and a score (final grade) for each course they are enrolled in. Charlotte used WHERE clauses in a structured query language (SQL) query to obtain only the data for the activity logs and final-grade data for the students in her class. -->
</section>
<section id="collecting-the-kombucha-dataset">
<h3>Collecting the kombucha dataset<a class="headerlink" href="#collecting-the-kombucha-dataset" title="Link to this heading">#</a></h3>
<p>Khalid measures random samples from different batches …</p>
</section>
<section id="collecting-the-doctors-dataset">
<h3>Collecting the doctors dataset<a class="headerlink" href="#collecting-the-doctors-dataset" title="Link to this heading">#</a></h3>
<p>Dan’s survey of doctors lifestyle choices …</p>
</section>
<section id="collecting-the-website-visitors-dataset">
<h3>Collecting the website visitors dataset<a class="headerlink" href="#collecting-the-website-visitors-dataset" title="Link to this heading">#</a></h3>
<p>Recall the website visitors dataset.
You can see the first few rows of the dataset by loading the CSV file <code class="docutils literal notranslate"><span class="pre">datasets/visitors.csv</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">visitors</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;datasets/visitors.csv&quot;</span><span class="p">)</span>
<span class="n">visitors</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>IP address</th>
      <th>version</th>
      <th>bought</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>135.185.92.4</td>
      <td>A</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>14.75.235.1</td>
      <td>A</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>50.132.244.139</td>
      <td>B</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>144.181.130.234</td>
      <td>A</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>90.92.5.100</td>
      <td>B</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Looking at the dataset helps you understand the general structure,
but you have some questions about how the data was collected,
so you decide to call Vanessa and ask her.</p>
<p>“Hi Vanessa. I’m looking at the data you sent me and I had some questions,” you start.</p>
<p>“Yes, ask away,” she responds.</p>
<p>“How did you assign the visitors to version A or B of the website?” you ask.</p>
<p>“Every time the website received a new visitor (new IP address),
it randomly sent them to either version A or version B,” she says.
“It’s basically equivalent to flipping a coin.”
She goes on to explain that the two versions of the website can be identified from the server logs,
since the two designs use different background images.
A visitor who sees version A of the website will load the background image <code class="docutils literal notranslate"><span class="pre">images/bgA.jpg</span></code>,
while visitors who see version B will load the image <code class="docutils literal notranslate"><span class="pre">images/bgB.jpg</span></code>.</p>
<p>“And how did you calculate the <code class="docutils literal notranslate"><span class="pre">bought</span></code> column?” you ask.</p>
<p>“When a visitor completes the purchase steps,
they are sent to a special <code class="docutils literal notranslate"><span class="pre">/thankyou</span></code> page,
so I used that to identify visitors who bought something.”</p>
<p>“Can you tell me more about the steps you took to extract the data from the server logs?”</p>
<p>“Sure,” replies Vanessa and starts on a long explanation, which is summarized below.</p>
<p>Vanessa started by extracting the web server access logs for the date range when the experiment was running.
She then loaded the log files into Pandas data frames and concatenated the data from the different days.</p>
<!-- TODO: mention pd commands used for merge -->
<p>She then did some data cleaning by excluding rows generated from bots based on the user agent value.</p>
<p>She then applied the main logic for determining the <code class="docutils literal notranslate"><span class="pre">bought</span></code> variable
by collecting all the log entries for individual IP addresses.
For each visitor (unique IP address) she looked for a request to <code class="docutils literal notranslate"><span class="pre">images/bgA.jpg</span></code>
or <code class="docutils literal notranslate"><span class="pre">images/bgB.jpg</span></code> followed by the request to the <code class="docutils literal notranslate"><span class="pre">/thankyou</span></code> page,
which indicates they bought something (<code class="docutils literal notranslate"><span class="pre">bought=1</span></code>).
If the visitor never reached the <code class="docutils literal notranslate"><span class="pre">/thankyou</span></code> page,
then we know they didn’t make a purchase,
so she recorded <code class="docutils literal notranslate"><span class="pre">bought=0</span></code> for them.</p>
<p>Finally she stored the data as <code class="docutils literal notranslate"><span class="pre">visitors.csv</span></code> and sent it to you.</p>
<p>Remore shell<br />
<code class="docutils literal notranslate"><span class="pre">zcat</span> <span class="pre">/var/log/nginx/access.log.*.gz</span> <span class="pre">&gt;</span> <span class="pre">/tmp/access_logs.txt</span></code></p>
<p>Local shell<br />
<code class="docutils literal notranslate"><span class="pre">scp</span> <span class="pre">minireference.com:/tmp/access_logs.txt</span> <span class="pre">data/access_logs.txt</span></code></p>
<p>Links</p>
<ul class="simple">
<li><p><a class="reference external" href="https://riptutorial.com/pandas/example/15180/read-nginx-access-log--multiple-quotechars-">https://riptutorial.com/pandas/example/15180/read-nginx-access-log–multiple-quotechars-</a></p></li>
<li><p><a class="reference internal" href="#./explorations/ParseNginxAccessLogs.ipynb"><span class="xref myst">ParseNginxAccessLogs.ipynb</span></a></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># access_logs = open(&quot;data/access_logs.txt&quot;)</span>
<span class="c1"># df = pd.read_csv(</span>
<span class="c1">#     access_logs,</span>
<span class="c1">#     sep=r&#39;\s(?=(?:[^&quot;]*&quot;[^&quot;]*&quot;)*[^&quot;]*$)(?![^\[]*\])&#39;,</span>
<span class="c1">#     engine=&#39;python&#39;,</span>
<span class="c1">#     usecols=[0, 3, 4, 5, 6, 7, 8],</span>
<span class="c1">#     names=[&#39;ip&#39;, &#39;time&#39;, &#39;request&#39;, &#39;status&#39;, &#39;size&#39;, &#39;referer&#39;, &#39;user_agent&#39;],</span>
<span class="c1">#     na_values=&#39;-&#39;,</span>
<span class="c1">#     header=None</span>
<span class="c1"># )</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>A VIEWS = CONTAINS /static/images/homepage/bgA.jpg</p></li>
<li><p>B VIEWS = CONTAINS /static/images/homepage/bgB.jpg</p></li>
<li><p>A CONVERSIONS = CONTAINS /static/images/homepage/bgA.jpg and /thankyou</p></li>
<li><p>B CONVERSIONS = CONTAINS /static/images/homepage/bgB.jpg and /thankyou</p></li>
<li><p>p_A = A CONVERSIONS / A VIEWS</p></li>
<li><p>p_B = B CONVERSIONS / B VIEWS</p></li>
</ul>
<p>We can compute the conversion rate for each version of the website
using the <code class="docutils literal notranslate"><span class="pre">.groupby()</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">visitors</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">)</span> \
         <span class="p">[</span><span class="s2">&quot;bought&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>version  bought
A        0         0.935175
         1         0.064825
B        0         0.962229
         1         0.037771
Name: proportion, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">visitors</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">)</span> \
         <span class="p">[</span><span class="s2">&quot;bought&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;count&quot;</span><span class="p">])</span> \
         <span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;sum/count&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>version
A    0.064825
B    0.037771
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>For version A (the new design), the conversion rate is <span class="math notranslate nohighlight">\(p_{\!A} = 0.0648\)</span>.
For version B (the old design), the conversion rate is <span class="math notranslate nohighlight">\(p_{B} = 0.0377\)</span>.</p>
<!-- TODO: add conclusion + take home message -->
<!-- TODO: add conversational Vanessa interested in stats --- explain this is an instance of compare two proportions analysis recipe -->
</section>
<section id="collecting-the-players-dataset">
<h3>Collecting the players dataset<a class="headerlink" href="#collecting-the-players-dataset" title="Link to this heading">#</a></h3>
<p>TODO</p>
</section>
</section>
<section id="bonus-topics">
<h2>Bonus topics<a class="headerlink" href="#bonus-topics" title="Link to this heading">#</a></h2>
<section id="index-and-sorting">
<h3>Index and sorting<a class="headerlink" href="#index-and-sorting" title="Link to this heading">#</a></h3>
<p>index operations (set, change, reset, etc.)
<code class="docutils literal notranslate"><span class="pre">sort</span></code>, <code class="docutils literal notranslate"><span class="pre">sort_values</span></code>, <code class="docutils literal notranslate"><span class="pre">sort_index</span></code>, and using <code class="docutils literal notranslate"><span class="pre">rank()</span></code> method</p>
</section>
<section id="pandas-plot-methods">
<h3>Pandas plot methods<a class="headerlink" href="#pandas-plot-methods" title="Link to this heading">#</a></h3>
<p>Use the <code class="docutils literal notranslate"><span class="pre">.plot()</span></code> method to obtain basic plots,
see Appendix E for Seaborn tutorial for more advanced plots (specific for statistics).</p>
</section>
<section id="numpy-arrays">
<h3>NumPy arrays<a class="headerlink" href="#numpy-arrays" title="Link to this heading">#</a></h3>
<p>Under the hood, Pandas <code class="docutils literal notranslate"><span class="pre">Series</span></code> and <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> objects are based on efficient numerical NumPy arrays.
You generally won’t need to interact with NumPy commands when working in Pandas,
but sometimes it can be useful to know the NumPy syntax to perform certain data selection tasks.</p>
<p>Let’s look at some simple examples
of the data <code class="docutils literal notranslate"><span class="pre">[1,3,5,7]</span></code> stored as a NumPy array.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="n">values</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([1, 3, 5, 7])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">values</span> <span class="o">-</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([-1,  1,  3,  5])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([   2.71828183,   20.08553692,  148.4131591 , 1096.63315843])
</pre></div>
</div>
</div>
</div>
</section>
<section id="selecting-a-subset-of-the-values">
<h3>Selecting a subset of the values<a class="headerlink" href="#selecting-a-subset-of-the-values" title="Link to this heading">#</a></h3>
<p>Selection of subsets is similar to what we do in Pandas:
we use a mask to select the desired values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">values</span> <span class="o">&lt;</span> <span class="mi">4</span>  <span class="c1"># selection mask</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ True,  True, False, False])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">values</span><span class="p">[</span><span class="n">values</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([1, 3])
</pre></div>
</div>
</div>
</div>
<section id="create-a-list-of-evenly-spaced-numbers">
<h4>Create a list of evenly spaced numbers<a class="headerlink" href="#create-a-list-of-evenly-spaced-numbers" title="Link to this heading">#</a></h4>
<p>We’ll use this often when plotting functions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0.        , 0.05263158, 0.10526316, 0.15789474, 0.21052632,
       0.26315789, 0.31578947, 0.36842105, 0.42105263, 0.47368421,
       0.52631579, 0.57894737, 0.63157895, 0.68421053, 0.73684211,
       0.78947368, 0.84210526, 0.89473684, 0.94736842, 1.        ])
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Link to this heading">#</a></h2>
<p>The Stack Overflow discussion forums are a good place to ask questions
once you learn the jargon terms for data transformations (<code class="docutils literal notranslate"><span class="pre">.melt()</span></code>, <code class="docutils literal notranslate"><span class="pre">.groupby()</span></code>, <code class="docutils literal notranslate"><span class="pre">.agg()</span></code>, etc.).</p>
<!-- TODO: better conclusion --></section>
<section id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Data transformations: <code class="docutils literal notranslate"><span class="pre">melt</span></code>, <code class="docutils literal notranslate"><span class="pre">dropna</span></code>, filter by value, etc.</p></li>
<li><p>Rename categorical values to normalize them. <code class="docutils literal notranslate"><span class="pre">OH</span></code> (Ohio), <code class="docutils literal notranslate"><span class="pre">WA</span></code> (Washington), etc.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">groupby</span></code> to compute the average <span class="math notranslate nohighlight">\(y\)</span>-position for the players in the two teams.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str</span></code> methods: split City, ST – into city and state (or Last Name, First name into separate names)</p></li>
<li><p>Filter out outliers using pre-specified cutoff (Q3 + 1.5IQR) but don’t tell how limits were computed (FWD refs to Descr. Stats and Z-score).</p></li>
</ul>
</section>
<section id="links">
<h2>Links<a class="headerlink" href="#links" title="Link to this heading">#</a></h2>
<p>I’ve collected the best learning resources for Pandas for you.</p>
<section id="music-videos">
<h3>Music videos<a class="headerlink" href="#music-videos" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://www.youtube.com/watch?v=4NJlUribp3c">https://www.youtube.com/watch?v=4NJlUribp3c</a></p></li>
</ul>
</section>
<section id="general-concepts">
<h3>General concepts<a class="headerlink" href="#general-concepts" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Data_wrangling">https://en.wikipedia.org/wiki/Data_wrangling</a></p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Data_preparation">https://en.wikipedia.org/wiki/Data_preparation</a></p></li>
</ul>
</section>
<section id="cheatsheets">
<h3>Cheatsheets<a class="headerlink" href="#cheatsheets" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://homepage.univie.ac.at/michael.blaschek/media/Cheatsheet_pandas.pdf">https://homepage.univie.ac.at/michael.blaschek/media/Cheatsheet_pandas.pdf</a></p></li>
<li><p>Data Wrangling with pandas Cheat Sheet
<a class="reference external" href="https://pandas.pydata.org/Pandas_Cheat_Sheet.pdf">https://pandas.pydata.org/Pandas_Cheat_Sheet.pdf</a></p></li>
<li><p>Pandas Basics from the Python For Data Science Cheat Sheet collection<br />
<a class="reference external" href="https://datacamp-community-prod.s3.amazonaws.com/dbed353d-2757-4617-8206-8767ab379ab3">https://datacamp-community-prod.s3.amazonaws.com/dbed353d-2757-4617-8206-8767ab379ab3</a><br />
see also <a class="reference external" href="https://www.datacamp.com/blog/pandas-cheat-sheet-for-data-science-in-python">https://www.datacamp.com/blog/pandas-cheat-sheet-for-data-science-in-python</a></p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">pandas</span></code> DataFrame Object<br />
<a class="reference external" href="https://www.webpages.uidaho.edu/~stevel/cheatsheets/Pandas%20DataFrame%20Notes_12pages.pdf">https://www.webpages.uidaho.edu/~stevel/cheatsheets/Pandas DataFrame Notes_12pages.pdf</a></p></li>
</ul>
</section>
<section id="tutorials">
<h3>Tutorials<a class="headerlink" href="#tutorials" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Getting started with pandas tutorial<br />
<a class="reference external" href="https://www.efavdb.com/pandas-tips-and-tricks">https://www.efavdb.com/pandas-tips-and-tricks</a></p></li>
<li><p>Making head and tails of Pandas<br />
<a class="reference external" href="https://www.youtube.com/watch?v=otCriSKVV_8">https://www.youtube.com/watch?v=otCriSKVV_8</a>
<a class="github reference external" href="https://github.com/tomaugspurger/pydataseattle">tomaugspurger/pydataseattle</a></p></li>
<li><p>Essential basic functionality (very good)<br />
<a class="reference external" href="https://pandas.pydata.org/docs/user_guide/basics.html">https://pandas.pydata.org/docs/user_guide/basics.html</a></p></li>
<li><p>The 10 minutes to Pandas tutorial<br />
<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/10min.html">https://pandas.pydata.org/pandas-docs/stable/user_guide/10min.html</a></p></li>
<li><p>Effective Pandas tutorial by Matt Harrison
(Use appropriate data types to save memory. Lots of examples of method chaining.)<br />
<a class="reference external" href="https://www.youtube.com/watch?v=zgbUk90aQ6A&amp;amp;t=526s">https://www.youtube.com/watch?v=zgbUk90aQ6A&amp;t=526s</a></p></li>
<li><p><a class="reference external" href="https://devopedia.org/pandas-dataframe-operations">https://devopedia.org/pandas-dataframe-operations</a></p></li>
<li><p>Nice examople dataframe with variety of data types + compact reference of all operations<br />
<a class="reference external" href="https://dataframes.juliadata.org/stable/man/comparisons/#Comparison-with-the-Python-package-pandas">https://dataframes.juliadata.org/stable/man/comparisons/#Comparison-with-the-Python-package-pandas</a><br />
see also <a class="github reference external" href="https://github.com/bkamins/Julia-DataFrames-Tutorial/">bkamins/Julia-DataFrames-Tutorial</a></p></li>
<li><p>Pandas: Python Data Analysis Library<br />
<a class="reference external" href="https://johnfoster.pge.utexas.edu/numerical-methods-book/ScientificPython_Pandas.html">https://johnfoster.pge.utexas.edu/numerical-methods-book/ScientificPython_Pandas.html</a><br />
See also <a class="reference external" href="https://github.com/johnfoster-pge-utexas/numerical-methods-book/blob/master/content/ScientificPython_Pandas.ipynb">notebook</a>
and <a class="reference external" href="https://github.com/johnfoster-pge-utexas/numerical-methods-book/tree/master/content">src</a>.</p></li>
<li><p>Pandas sections from <em>Python Data Science Handbook</em>
<a class="reference external" href="https://www.one-tab.com/page/OaSZriUtRg6wb7mppbamag">https://www.one-tab.com/page/OaSZriUtRg6wb7mppbamag</a><br />
via <a class="reference external" href="https://jakevdp.github.io/PythonDataScienceHandbook/">https://jakevdp.github.io/PythonDataScienceHandbook/</a></p></li>
<li><p>Pandas tutorials – lots of details<br />
<a class="reference external" href="https://www.one-tab.com/page/Iw-cytCuTe-FiNZ7F1nrww">https://www.one-tab.com/page/Iw-cytCuTe-FiNZ7F1nrww</a></p></li>
<li><p>pandas Foundations notebooks from DataCamp<br />
<a class="reference external" href="https://trenton3983.github.io/files/projects/2019-01-24_pandas_dataframes/2019-01-24_pandas_dataframes.html">https://trenton3983.github.io/files/projects/2019-01-24_pandas_dataframes/2019-01-24_pandas_dataframes.html</a><br />
<a class="reference external" href="https://trenton3983.github.io/files/projects/2019-02-04_manipulating_dataframes_with_pandas/2019-02-04_manipulating_dataframes_with_pandas.html">https://trenton3983.github.io/files/projects/2019-02-04_manipulating_dataframes_with_pandas/2019-02-04_manipulating_dataframes_with_pandas.html</a></p></li>
<li><p>Lots of simple tasks
<a class="reference external" href="https://nbviewer.org/github/justmarkham/pandas-videos/blob/master/pandas.ipynb">https://nbviewer.org/github/justmarkham/pandas-videos/blob/master/pandas.ipynb</a></p></li>
</ul>
</section>
<section id="id1">
<h3>Data cleaning<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Tidying Data tutorial by Daniel Chen (Lots of examples of melt operations on real-world datasets)<br />
<a class="reference external" href="https://www.youtube.com/watch?v=iYie42M1ZyU">https://www.youtube.com/watch?v=iYie42M1ZyU</a>
<a class="github reference external" href="https://github.com/chendaniely/pydatadc_2018-tidy/blob/master/notebooks/tidy.ipynb">chendaniely/pydatadc_2018-tidy</a></p></li>
<li><p>Data Cleaning lab from Applied &amp; Computational Mathematics Emphasis (ACME) course<br />
<a class="reference external" href="https://acme.byu.edu/0000017c-ccff-da17-a5fd-cdff03570000/acmefiles-09-datacleaning-2021-pdf">https://acme.byu.edu/0000017c-ccff-da17-a5fd-cdff03570000/acmefiles-09-datacleaning-2021-pdf</a><br />
See more <a class="reference external" href="https://acme.byu.edu/2021-2022-materials">materials here</a>.</p></li>
<li><p><a class="github reference external" href="https://github.com/hxchua/datadoubleconfirm/blob/master/EuroPython/DataCleaning.ipynb">hxchua/datadoubleconfirm</a></p></li>
<li><p>Nice visualizations for Pandas operations (click on examples)
<a class="reference external" href="https://pandastutor.com/vis.html">https://pandastutor.com/vis.html</a></p></li>
<li><p>A talk on data cleaning principles by Karl Broman
<a class="reference external" href="https://www.youtube.com/watch?v=7Ma8WIDinDc">https://www.youtube.com/watch?v=7Ma8WIDinDc</a><br />
slides <a class="reference external" href="https://kbroman.org/Talk_DataCleaning/data_cleaning.pdf">https://kbroman.org/Talk_DataCleaning/data_cleaning.pdf</a></p></li>
<li><p><a class="reference external" href="https://datascienceinpractice.github.io/tutorials/06-DataWrangling.html">https://datascienceinpractice.github.io/tutorials/06-DataWrangling.html</a></p></li>
<li><p><a class="reference external" href="https://datascienceinpractice.github.io/tutorials/07-DataCleaning.html">https://datascienceinpractice.github.io/tutorials/07-DataCleaning.html</a></p></li>
<li><p><a class="reference external" href="https://www.mariakhalusova.com/posts/2019-01-31-cleaning-data-with-pandas/">https://www.mariakhalusova.com/posts/2019-01-31-cleaning-data-with-pandas/</a></p></li>
</ul>
<!--
COMMAND LINE CLEANUP
http://mchap.io/using-foia-data-and-unix-to-halve-major-source-of-parking-tickets.html
via https://news.ycombinator.com/item?id=17754105
-->
</section>
<section id="articles">
<h3>Articles<a class="headerlink" href="#articles" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><em>pandas: a Foundational Python Library for Data Analysis and Statistics</em> by Wes McKinney<br />
<a class="reference external" href="https://www.dlr.de/sc/Portaldata/15/Resources/dokumente/pyhpc2011/submissions/pyhpc2011_submission_9.pdf">https://www.dlr.de/sc/Portaldata/15/Resources/dokumente/pyhpc2011/submissions/pyhpc2011_submission_9.pdf</a></p></li>
<li><p>More Pandas articles and links<br />
<a class="reference external" href="https://www.one-tab.com/page/-EZFbibXRq2xZRYM9iUVDg">https://www.one-tab.com/page/-EZFbibXRq2xZRYM9iUVDg</a></p></li>
<li><p>Good tips about <code class="docutils literal notranslate"><span class="pre">loc</span></code> vs. <code class="docutils literal notranslate"><span class="pre">[]</span></code><br />
<a class="reference external" href="https://stackoverflow.com/a/48411543/127114">https://stackoverflow.com/a/48411543/127114</a></p></li>
<li><p>Devoperia articles on Pandas:<br />
<a class="reference external" href="https://devopedia.org/pandas-dataframe-operations">data frame operations</a><br />
<a class="reference external" href="https://devopedia.org/pandas-data-structures">data structures</a><br />
<a class="reference external" href="https://devopedia.org/data-preparation">data preparation</a></p></li>
</ul>
</section>
<section id="books">
<h3>Books<a class="headerlink" href="#books" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://store.metasnake.com/effective-pandas-book">https://store.metasnake.com/effective-pandas-book</a></p></li>
</ul>
<!--

TODO import links from gdoc

### R learning resources

- https://www.one-tab.com/page/4P1d6YLhQKm1FthXB4qRzg
- https://remkoduursma.github.io/learningguidetor/dataskills1.html
- https://remkoduursma.github.io/learningguidetor/dataskills2.html		

#### Tidy data in R
- https://cran.r-project.org/web/packages/tidyr/vignettes/tidy-data.html
- https://datasciencebook.ca/wrangling.html
- https://moderndive.com/3-wrangling.html 
- https://github.com/jennybc/lotr-tidy/


-->
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "minireference/noBSstats",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./tutorials"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="python_tutorial.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Appendix C — Python tutorial</p>
      </div>
    </a>
    <a class="right-next"
       href="seaborn_tutorial.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Appendix E — Seaborn tutorial</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pandas-overview">Pandas overview</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-pandas">Installing Pandas</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#series">Series</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculations">Calculations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bonus-material-1">Bonus material 1</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bonus-material-2">Bonus material 2</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-frames">Data frames</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-frame-properties">Data frame properties</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-and-selecting-values">Accessing and selecting values</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-individual-values">Accessing individual values</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#selecting-entire-rows">Selecting entire rows</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#selecting-entire-columns">Selecting entire columns</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#selecting-multiple-columns">Selecting multiple columns</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#selecting-only-certain-rows">Selecting only certain rows</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-data-frames-from-lists">Creating data frames from lists</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-1-select-team-a">Exercise 1: select team <code class="docutils literal notranslate"><span class="pre">a</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sorting-grouping-and-aggregation">Sorting, grouping and aggregation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sorting">Sorting</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#group-by-and-aggregation">Group by and aggregation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-crosstab">Using <code class="docutils literal notranslate"><span class="pre">crosstab</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-pivot-and-pivot-table">Using <code class="docutils literal notranslate"><span class="pre">pivot</span></code> and <code class="docutils literal notranslate"><span class="pre">pivot_table</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-transformations">Data transformations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#transpose">Transpose</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-new-columns">Adding new columns</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dropping-rows-and-and-columns">Dropping rows and and columns</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#renaming-columns-and-values">Renaming columns and values</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reshaping-data-frames">Reshaping data frames</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#bonus-explainer-1-sort-after-melt">BONUS EXPLAINER 1: SORT AFTER MELT</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#bonus-explainer-2-undo-melt-with-pivot">BONUS EXPLAINER 2: UNDO MELT WITH PIVOT</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tidy-data">Tidy data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#string-methods">String methods</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#merging-data-frames">Merging data frames</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#type-conversions">Type conversions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dummy-coding-of-categorical-variables">Dummy coding of categorical variables</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-cleaning">Data cleaning</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#standardize-categorical-values">Standardize categorical values</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-2-cleaning-the-cats-data">Exercise 2: cleaning the cats data</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#number-formatting-errors">Number formatting errors</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dealing-with-missing-values">Dealing with missing values</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identifying-and-removing-outliers">Identifying and removing outliers</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#why-outliers-are-problematic">Why outliers are problematic</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#criteria-for-identifying-outliers">Criteria for identifying outliers</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#visual-inspection-of-the-data">Visual inspection of the data</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tukey-outliers">Tukey outliers</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-z-scores">Computing z-scores</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#removing-outliers">Removing outliers</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#when-should-we-drop-outliers">When should we drop outliers</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-of-data-cleaning">Summary of data cleaning</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-a">Exercise A</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-sources">Data sources</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-extraction-get-our-hands-on-data">Data extraction: get our hands on data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-formats">Data formats</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#csv-files">CSV files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#other-data-formats">Other data formats</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#spreadsheets-files">Spreadsheets files</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tsv">TSV</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#json">JSON</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#html-tables">HTML tables</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#xml">XML</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sqlite-databases">SQLite databases</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#case-studies">Case studies</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collecting-the-apples-dataset">Collecting the apples dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collecting-the-electricity-prices-dataset">Collecting the electricity prices dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collecting-the-students-dataset">Collecting the students dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collecting-the-kombucha-dataset">Collecting the kombucha dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collecting-the-doctors-dataset">Collecting the doctors dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collecting-the-website-visitors-dataset">Collecting the website visitors dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collecting-the-players-dataset">Collecting the players dataset</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bonus-topics">Bonus topics</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#index-and-sorting">Index and sorting</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pandas-plot-methods">Pandas plot methods</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy-arrays">NumPy arrays</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#selecting-a-subset-of-the-values">Selecting a subset of the values</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-list-of-evenly-spaced-numbers">Create a list of evenly spaced numbers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">Exercises</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#links">Links</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#music-videos">Music videos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#general-concepts">General concepts</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cheatsheets">Cheatsheets</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tutorials">Tutorials</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Data cleaning</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#articles">Articles</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#books">Books</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Ivan Savov
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>